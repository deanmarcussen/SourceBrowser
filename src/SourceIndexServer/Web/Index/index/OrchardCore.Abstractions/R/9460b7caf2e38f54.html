<!DOCTYPE html>
<html><head><title>Settings</title><link rel="stylesheet" href="../../styles.css"/><script src="../../scripts.js"></script></head><body onload="ro();">
<div class="rH">5 writes to Settings</div><div class="rA">OrchardCore (5)</div><div class="rG" id="OrchardCore"><div class="rF"><div class="rN">Shell\Builders\ShellContextFactory.cs (1)</div>
<a href="../../OrchardCore/Shell/Builders/ShellContextFactory.cs.html#80"><b>80</b><i>Settings</i> = settings,</a>
</div>
<div class="rF"><div class="rN">Shell\ShellHost.cs (4)</div>
<a href="../../OrchardCore/Shell/ShellHost.cs.html#197"><b>197</b>if (!_shellContexts.TryAdd(settings.Name, new ShellContext.PlaceHolder { <i>Settings</i> = settings }))</a>
<a href="../../OrchardCore/Shell/ShellHost.cs.html#260"><b>260</b>if (_shellContexts.TryAdd(settings.Name, new ShellContext.PlaceHolder { <i>Settings</i> = settings }))</a>
<a href="../../OrchardCore/Shell/ShellHost.cs.html#319"><b>319</b>AddAndRegisterShell(new ShellContext.PlaceHolder { <i>Settings</i> = settings });</a>
<a href="../../OrchardCore/Shell/ShellHost.cs.html#349"><b>349</b>return Task.FromResult(new ShellContext { <i>Settings</i> = settings });</a>
</div>
</div>
<div class="rH">38 references to Settings</div><div class="rA">OrchardCore (25)</div><div class="rG" id="OrchardCore"><div class="rF"><div class="rN">Modules\ModularBackgroundService.cs (11)</div>
<a href="../../OrchardCore/Modules/ModularBackgroundService.cs.html#95"><b>95</b>var tenant = shell.<i>Settings</i>.Name;</a>
<a href="../../OrchardCore/Modules/ModularBackgroundService.cs.html#108"><b>108</b>var shellScope = await _shellHost.GetScopeAsync(shell.<i>Settings</i>);</a>
<a href="../../OrchardCore/Modules/ModularBackgroundService.cs.html#185"><b>185</b>var tenant = shell.<i>Settings</i>.Name;</a>
<a href="../../OrchardCore/Modules/ModularBackgroundService.cs.html#194"><b>194</b>var shellScope = await _shellHost.GetScopeAsync(shell.<i>Settings</i>);</a>
<a href="../../OrchardCore/Modules/ModularBackgroundService.cs.html#289"><b>289</b>return _shellHost.ListShellContexts().Where(s =&gt; s.<i>Settings</i>.State == TenantState.Running &amp;&amp; s.Pipeline != null).ToArray();</a>
<a href="../../OrchardCore/Modules/ModularBackgroundService.cs.html#295"><b>295</b>return shells.Where(s =&gt; tenantsToRun.Contains(s.<i>Settings</i>.Name)).ToArray();</a>
<a href="../../OrchardCore/Modules/ModularBackgroundService.cs.html#300"><b>300</b>var released = previousShells.Where(s =&gt; s.Released).Select(s =&gt; s.<i>Settings</i>.Name).ToArray();</a>
<a href="../../OrchardCore/Modules/ModularBackgroundService.cs.html#314"><b>314</b>var valid = previousShells.Select(s =&gt; s.<i>Settings</i>.Name).Except(released).Except(changed);</a>
<a href="../../OrchardCore/Modules/ModularBackgroundService.cs.html#315"><b>315</b>var tenantsToUpdate = runningShells.Select(s =&gt; s.<i>Settings</i>.Name).Except(valid).ToArray();</a>
<a href="../../OrchardCore/Modules/ModularBackgroundService.cs.html#317"><b>317</b>return runningShells.Where(s =&gt; tenantsToUpdate.Contains(s.<i>Settings</i>.Name)).ToArray();</a>
<a href="../../OrchardCore/Modules/ModularBackgroundService.cs.html#376"><b>376</b>var context = shell.<i>Settings</i>.CreateHttpContext();</a>
</div>
<div class="rF"><div class="rN">Modules\ModularTenantRouterMiddleware.cs (3)</div>
<a href="../../OrchardCore/Modules/ModularTenantRouterMiddleware.cs.html#49"><b>49</b>if (!String.IsNullOrEmpty(shellContext.<i>Settings</i>.RequestUrlPrefix))</a>
<a href="../../OrchardCore/Modules/ModularTenantRouterMiddleware.cs.html#51"><b>51</b>PathString prefix = &quot;/&quot; + shellContext.<i>Settings</i>.RequestUrlPrefix;</a>
<a href="../../OrchardCore/Modules/ModularTenantRouterMiddleware.cs.html#68"><b>68</b>var semaphore = _semaphores.GetOrAdd(shellContext.<i>Settings</i>.Name, _ =&gt; new SemaphoreSlim(1));</a>
</div>
<div class="rF"><div class="rN">Shell\Distributed\DistributedShellHostedService.cs (5)</div>
<a href="../../OrchardCore/Shell/Distributed/DistributedShellHostedService.cs.html#87"><b>87</b>defaultContext.<i>Settings</i>.State != TenantState.Running)</a>
<a href="../../OrchardCore/Shell/Distributed/DistributedShellHostedService.cs.html#312"><b>312</b>defaultContext.<i>Settings</i>.State != TenantState.Running)</a>
<a href="../../OrchardCore/Shell/Distributed/DistributedShellHostedService.cs.html#363"><b>363</b>defaultContext.<i>Settings</i>.State != TenantState.Running)</a>
<a href="../../OrchardCore/Shell/Distributed/DistributedShellHostedService.cs.html#425"><b>425</b>return new DistributedContext(await _shellContextFactory.CreateDescribedContextAsync(defaultShell.<i>Settings</i>, descriptor));</a>
<a href="../../OrchardCore/Shell/Distributed/DistributedShellHostedService.cs.html#433"><b>433</b>return await CreateDistributedContextAsync(defaultShell.<i>Settings</i>);</a>
</div>
<div class="rF"><div class="rN">Shell\ShellHost.cs (6)</div>
<a href="../../OrchardCore/Shell/ShellHost.cs.html#393"><b>393</b>if (_shellContexts.TryAdd(context.<i>Settings</i>.Name, context))</a>
<a href="../../OrchardCore/Shell/ShellHost.cs.html#395"><b>395</b>_shellSettings[context.<i>Settings</i>.Name] = context.<i>Settings</i>;</a>
<a href="../../OrchardCore/Shell/ShellHost.cs.html#399"><b>399</b>RegisterShellSettings(context.<i>Settings</i>);</a>
<a href="../../OrchardCore/Shell/ShellHost.cs.html#409"><b>409</b>if (!CanRegisterShell(context.<i>Settings</i>))</a>
<a href="../../OrchardCore/Shell/ShellHost.cs.html#413"><b>413</b>_logger.LogDebug(&quot;Skipping shell context registration for tenant &#39;{TenantName}&#39;&quot;, context.<i>Settings</i>.Name);</a>
</div>
</div>
<div class="rA">OrchardCore.Abstractions (11)</div><div class="rG" id="OrchardCore.Abstractions"><div class="rF"><div class="rN">BackgroundTasks\BackgroundTaskEventContext.cs (1)</div>
<a href="../BackgroundTasks/BackgroundTaskEventContext.cs.html#11"><b>11</b>Tenant = scope.ShellContext.<i>Settings</i>.Name;</a>
</div>
<div class="rF"><div class="rN">Shell\Builders\ShellContext.cs (3)</div>
<a href="../Shell/Builders/ShellContext.cs.html#101"><b>101</b>if (mode == ReleaseMode.FromDependency &amp;&amp; <i>Settings</i>.State == TenantState.Disabled &amp;&amp; _refCount != 0)</a>
<a href="../Shell/Builders/ShellContext.cs.html#189"><b>189</b>_dependents.RemoveAll(x =&gt; !x.TryGetTarget(out var shell) || shell.<i>Settings</i>.Name == shellContext.<i>Settings</i>.Name);</a>
</div>
<div class="rF"><div class="rN">Shell\Builders\ShellContextExtensions.cs (1)</div>
<a href="../Shell/Builders/ShellContextExtensions.cs.html#19"><b>19</b>var lockService = shellContext.<i>Settings</i>.State == TenantState.Initializing</a>
</div>
<div class="rF"><div class="rN">Shell\Scope\ShellScope.cs (6)</div>
<a href="../Shell/Scope/ShellScope.cs.html#48"><b>48</b>$&quot;Can&#39;t resolve a scope on tenant: {shellContext.<i>Settings</i>.Name}&quot;);</a>
<a href="../Shell/Scope/ShellScope.cs.html#156"><b>156</b>return shellHost.GetScopeAsync(Context.<i>Settings</i>);</a>
<a href="../Shell/Scope/ShellScope.cs.html#295"><b>295</b>throw new TimeoutException($&quot;Fails to acquire a lock before activating the tenant: {ShellContext.<i>Settings</i>.Name}&quot;);</a>
<a href="../Shell/Scope/ShellScope.cs.html#401"><b>401</b>scope = await shellHost.GetScopeAsync(ShellContext.<i>Settings</i>);</a>
<a href="../Shell/Scope/ShellScope.cs.html#423"><b>423</b>task.GetType().FullName, ShellContext.<i>Settings</i>.Name);</a>
<a href="../Shell/Scope/ShellScope.cs.html#453"><b>453</b>if (ShellContext.<i>Settings</i>.State == TenantState.Disabled)</a>
</div>
</div>
<div class="rA">OrchardCore.Logging.NLog (1)</div><div class="rG" id="OrchardCore.Logging.NLog"><div class="rF"><div class="rN">TenantLayoutRenderer.cs (1)</div>
<a href="../../OrchardCore.Logging.NLog/TenantLayoutRenderer.cs.html#20"><b>20</b>var tenantName = ShellScope.Context?.<i>Settings</i>.Name;</a>
</div>
</div>
<div class="rA">OrchardCore.Logging.Serilog (1)</div><div class="rG" id="OrchardCore.Logging.Serilog"><div class="rF"><div class="rN">SerilogTenantNameLoggingMiddleware.cs (1)</div>
<a href="../../OrchardCore.Logging.Serilog/SerilogTenantNameLoggingMiddleware.cs.html#19"><b>19</b>var tenantName = ShellScope.Context?.<i>Settings</i>.Name ?? &quot;None&quot;;</a>
</div>
</div>
</body></html>