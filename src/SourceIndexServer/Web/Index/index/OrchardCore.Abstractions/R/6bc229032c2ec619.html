<!DOCTYPE html>
<html><head><title>ShellScope</title><link rel="stylesheet" href="../../styles.css"/><script src="../../scripts.js"></script></head><body onload="ro();">
<div class="rH">4 instantiations of ShellScope</div><div class="rA">OrchardCore.Abstractions (4)</div><div class="rG" id="OrchardCore.Abstractions"><div class="rF"><div class="rN">Shell\Builders\ShellContext.cs (2)</div>
<a href="../Shell/Builders/ShellContext.cs.html#60"><b>60</b>var scope = new <i>ShellScope</i>(this);</a>
<a href="../Shell/Builders/ShellContext.cs.html#134"><b>134</b>scope = new <i>ShellScope</i>(this);</a>
</div>
<div class="rF"><div class="rN">Shell\Scope\ShellScope.cs (2)</div>
<a href="../Shell/Scope/ShellScope.cs.html#303"><b>303</b>await new <i>ShellScope</i>(ShellContext).UsingAsync(async scope =&gt;</a>
<a href="../Shell/Scope/ShellScope.cs.html#406"><b>406</b>scope = new <i>ShellScope</i>(ShellContext);</a>
</div>
</div>
<div class="rH">74 references to ShellScope</div><div class="rA">OrchardCore (10)</div><div class="rG" id="OrchardCore"><div class="rF"><div class="rN">Modules\ModularBackgroundService.cs (2)</div>
<a href="../../OrchardCore/Modules/ModularBackgroundService.cs.html#108"><b>108</b><i>var</i> shellScope = await _shellHost.GetScopeAsync(shell.Settings);</a>
<a href="../../OrchardCore/Modules/ModularBackgroundService.cs.html#194"><b>194</b><i>var</i> shellScope = await _shellHost.GetScopeAsync(shell.Settings);</a>
</div>
<div class="rF"><div class="rN">Modules\ModularTenantContainerMiddleware.cs (1)</div>
<a href="../../OrchardCore/Modules/ModularTenantContainerMiddleware.cs.html#50"><b>50</b><i>var</i> shellScope = await _shellHost.GetScopeAsync(shellSettings);</a>
</div>
<div class="rF"><div class="rN">Modules\ModularTenantRouterMiddleware.cs (3)</div>
<a href="../../OrchardCore/Modules/ModularTenantRouterMiddleware.cs.html#44"><b>44</b>var shellContext = <i>ShellScope</i>.Context;</a>
<a href="../../OrchardCore/Modules/ModularTenantRouterMiddleware.cs.html#89"><b>89</b>var appBuilder = new ApplicationBuilder(<i>ShellScope</i>.Context.ServiceProvider, _features);</a>
<a href="../../OrchardCore/Modules/ModularTenantRouterMiddleware.cs.html#125"><b>125</b>startup.Configure(appBuilder, routes, <i>ShellScope</i>.Services);</a>
</div>
<div class="rF"><div class="rN">Shell\ShellDescriptorFeaturesManager.cs (2)</div>
<a href="../../OrchardCore/Shell/ShellDescriptorFeaturesManager.cs.html#37"><b>37</b>var featureEventHandlers = <i>ShellScope</i>.Services.GetServices&lt;IFeatureEventHandler&gt;();</a>
<a href="../../OrchardCore/Shell/ShellDescriptorFeaturesManager.cs.html#109"><b>109</b><i>ShellScope</i>.AddDeferredTask(async scope =&gt;</a>
</div>
<div class="rF"><div class="rN">Shell\ShellHost.cs (2)</div>
<a href="../../OrchardCore/Shell/ShellHost.cs.html#115"><b>115</b>public async Task&lt;<i>ShellScope</i>&gt; GetScopeAsync(ShellSettings settings)</a>
<a href="../../OrchardCore/Shell/ShellHost.cs.html#117"><b>117</b><i>ShellScope</i> scope = null;</a>
</div>
</div>
<div class="rA">OrchardCore.Abstractions (54)</div><div class="rG" id="OrchardCore.Abstractions"><div class="rF"><div class="rN">BackgroundTasks\BackgroundTaskEventContext.cs (1)</div>
<a href="../BackgroundTasks/BackgroundTaskEventContext.cs.html#8"><b>8</b>public BackgroundTaskEventContext(string name, <i>ShellScope</i> scope)</a>
</div>
<div class="rF"><div class="rN">Caching\ISignal.cs (1)</div>
<a href="../Caching/ISignal.cs.html#21"><b>21</b><i>ShellScope</i>.AddDeferredSignal(key);</a>
</div>
<div class="rF"><div class="rN">Modules\Extensions\HttpContextExtensions.cs (1)</div>
<a href="../Modules/Extensions/HttpContextExtensions.cs.html#9"><b>9</b>/// Makes &lt;see cref=&quot;HttpContext.RequestServices&quot;/&gt; aware of the current &lt;see cref=&quot;<i>ShellScope</i>&quot;/&gt;.</a>
</div>
<div class="rF"><div class="rN">Shell\Builders\ShellContext.cs (4)</div>
<a href="../Shell/Builders/ShellContext.cs.html#50"><b>50</b>/// Creates a &lt;see cref=&quot;<i>ShellScope</i>&quot;/&gt; on this shell context.</a>
<a href="../Shell/Builders/ShellContext.cs.html#52"><b>52</b>public <i>ShellScope</i> CreateScope()</a>
<a href="../Shell/Builders/ShellContext.cs.html#60"><b>60</b><i>var</i> scope = new ShellScope(this);</a>
<a href="../Shell/Builders/ShellContext.cs.html#111"><b>111</b><i>ShellScope</i> scope = null;</a>
</div>
<div class="rF"><div class="rN">Shell\Extensions\ShellHostExtensions.cs (1)</div>
<a href="../Shell/Extensions/ShellHostExtensions.cs.html#12"><b>12</b>public static Task&lt;<i>ShellScope</i>&gt; GetScopeAsync(this IShellHost shellHost, string tenant)</a>
</div>
<div class="rF"><div class="rN">Shell\IShellHost.cs (1)</div>
<a href="../Shell/IShellHost.cs.html#24"><b>24</b>Task&lt;<i>ShellScope</i>&gt; GetScopeAsync(ShellSettings settings);</a>
</div>
<div class="rF"><div class="rN">Shell\Scope\ShellScope.cs (24)</div>
<a href="../Shell/Scope/ShellScope.cs.html#24"><b>24</b>private readonly List&lt;Func&lt;<i>ShellScope</i>, Task&gt;&gt; _beforeDispose = new List&lt;Func&lt;<i>ShellScope</i>, Task&gt;&gt;();</a>
<a href="../Shell/Scope/ShellScope.cs.html#26"><b>26</b>private readonly List&lt;Func&lt;<i>ShellScope</i>, Task&gt;&gt; _deferredTasks = new List&lt;Func&lt;<i>ShellScope</i>, Task&gt;&gt;();</a>
<a href="../Shell/Scope/ShellScope.cs.html#27"><b>27</b>private readonly List&lt;Func&lt;<i>ShellScope</i>, Exception, Task&gt;&gt; _exceptionHandlers = new List&lt;Func&lt;<i>ShellScope</i>, Exception, Task&gt;&gt;();</a>
<a href="../Shell/Scope/ShellScope.cs.html#71"><b>71</b>public static <i>ShellScope</i> Current =&gt; _current.Value?.Scope;</a>
<a href="../Shell/Scope/ShellScope.cs.html#153"><b>153</b>public static Task&lt;<i>ShellScope</i>&gt; CreateChildScopeAsync()</a>
<a href="../Shell/Scope/ShellScope.cs.html#162"><b>162</b>public static Task&lt;<i>ShellScope</i>&gt; CreateChildScopeAsync(ShellSettings settings)</a>
<a href="../Shell/Scope/ShellScope.cs.html#171"><b>171</b>public static Task&lt;<i>ShellScope</i>&gt; CreateChildScopeAsync(string tenant)</a>
<a href="../Shell/Scope/ShellScope.cs.html#180"><b>180</b>public static async Task UsingChildScopeAsync(Func&lt;<i>ShellScope</i>, Task&gt; execute, bool activateShell = true)</a>
<a href="../Shell/Scope/ShellScope.cs.html#188"><b>188</b>public static async Task UsingChildScopeAsync(ShellSettings settings, Func&lt;<i>ShellScope</i>, Task&gt; execute, bool activateShell = true)</a>
<a href="../Shell/Scope/ShellScope.cs.html#196"><b>196</b>public static async Task UsingChildScopeAsync(string tenant, Func&lt;<i>ShellScope</i>, Task&gt; execute, bool activateShell = true)</a>
<a href="../Shell/Scope/ShellScope.cs.html#214"><b>214</b>public Task UsingServiceScopeAsync(Func&lt;<i>ShellScope</i>, Task&gt; execute)</a>
<a href="../Shell/Scope/ShellScope.cs.html#224"><b>224</b>public async Task UsingAsync(Func&lt;<i>ShellScope</i>, Task&gt; execute, bool activateShell = true)</a>
<a href="../Shell/Scope/ShellScope.cs.html#324"><b>324</b>internal void BeforeDispose(Func&lt;<i>ShellScope</i>, Task&gt; callback) =&gt; _beforeDispose.Insert(0, callback);</a>
<a href="../Shell/Scope/ShellScope.cs.html#334"><b>334</b>internal void DeferredTask(Func&lt;<i>ShellScope</i>, Task&gt; task) =&gt; _deferredTasks.Add(task);</a>
<a href="../Shell/Scope/ShellScope.cs.html#339"><b>339</b>internal void ExceptionHandler(Func&lt;<i>ShellScope</i>, Exception, Task&gt; callback) =&gt; _exceptionHandlers.Add(callback);</a>
<a href="../Shell/Scope/ShellScope.cs.html#344"><b>344</b>public static void RegisterBeforeDispose(Func&lt;<i>ShellScope</i>, Task&gt; callback) =&gt; Current?.BeforeDispose(callback);</a>
<a href="../Shell/Scope/ShellScope.cs.html#354"><b>354</b>public static void AddDeferredTask(Func&lt;<i>ShellScope</i>, Task&gt; task) =&gt; Current?.DeferredTask(task);</a>
<a href="../Shell/Scope/ShellScope.cs.html#359"><b>359</b>public static void AddExceptionHandler(Func&lt;<i>ShellScope</i>, Exception, Task&gt; handler) =&gt; Current?.ExceptionHandler(handler);</a>
<a href="../Shell/Scope/ShellScope.cs.html#397"><b>397</b><i>ShellScope</i> scope;</a>
<a href="../Shell/Scope/ShellScope.cs.html#413"><b>413</b>var logger = scope.ServiceProvider.GetService&lt;ILogger&lt;<i>ShellScope</i>&gt;&gt;();</a>
<a href="../Shell/Scope/ShellScope.cs.html#522"><b>522</b>public <i>ShellScope</i> Scope;</a>
</div>
<div class="rF"><div class="rN">Shell\Scope\ShellScopeExtensions.cs (20)</div>
<a href="../Shell/Scope/ShellScopeExtensions.cs.html#11"><b>11</b>public static <i>ShellScope</i> RegisterBeforeDispose(this <i>ShellScope</i> scope, Func&lt;<i>ShellScope</i>, Task&gt; callback)</a>
<a href="../Shell/Scope/ShellScopeExtensions.cs.html#20"><b>20</b>public static <i>ShellScope</i> RegisterBeforeDispose(this <i>ShellScope</i> scope, Action&lt;<i>ShellScope</i>&gt; callback)</a>
<a href="../Shell/Scope/ShellScopeExtensions.cs.html#34"><b>34</b>public static <i>ShellScope</i> AddDeferredSignal(this <i>ShellScope</i> scope, string key)</a>
<a href="../Shell/Scope/ShellScopeExtensions.cs.html#43"><b>43</b>public static <i>ShellScope</i> AddDeferredTask(this <i>ShellScope</i> scope, Func&lt;<i>ShellScope</i>, Task&gt; task)</a>
<a href="../Shell/Scope/ShellScopeExtensions.cs.html#52"><b>52</b>public static <i>ShellScope</i> AddDeferredTask(this <i>ShellScope</i> scope, Action&lt;<i>ShellScope</i>&gt; callback)</a>
<a href="../Shell/Scope/ShellScopeExtensions.cs.html#66"><b>66</b>public static <i>ShellScope</i> AddExceptionHandler(this <i>ShellScope</i> scope, Func&lt;<i>ShellScope</i>, Exception, Task&gt; handler)</a>
<a href="../Shell/Scope/ShellScopeExtensions.cs.html#75"><b>75</b>public static <i>ShellScope</i> AddExceptionHandler(this <i>ShellScope</i> scope, Action&lt;<i>ShellScope</i>, Exception&gt; handler)</a>
</div>
<div class="rF"><div class="rN">Shell\Scope\ShellScopeServices.cs (1)</div>
<a href="../Shell/Scope/ShellScopeServices.cs.html#14"><b>14</b>private IServiceProvider Services =&gt; <i>ShellScope</i>.Services ?? _services;</a>
</div>
</div>
<div class="rA">OrchardCore.Data (5)</div><div class="rG" id="OrchardCore.Data"><div class="rF"><div class="rN">Documents\FileDocumentStore.cs (5)</div>
<a href="../../OrchardCore.Data/Documents/FileDocumentStore.cs.html#37"><b>37</b>var loaded = <i>ShellScope</i>.Get&lt;T&gt;(typeof(T));</a>
<a href="../../OrchardCore.Data/Documents/FileDocumentStore.cs.html#48"><b>48</b><i>ShellScope</i>.Set(typeof(T), document);</a>
<a href="../../OrchardCore.Data/Documents/FileDocumentStore.cs.html#56"><b>56</b>var loaded = <i>ShellScope</i>.Get&lt;T&gt;(typeof(T));</a>
<a href="../../OrchardCore.Data/Documents/FileDocumentStore.cs.html#70"><b>70</b>var documentStore = <i>ShellScope</i>.Services.GetRequiredService&lt;IDocumentStore&gt;();</a>
<a href="../../OrchardCore.Data/Documents/FileDocumentStore.cs.html#75"><b>75</b><i>ShellScope</i>.Set(typeof(T), null);</a>
</div>
</div>
<div class="rA">OrchardCore.Data.YesSql (1)</div><div class="rG" id="OrchardCore.Data.YesSql"><div class="rF"><div class="rN">OrchardCoreBuilderExtensions.cs (1)</div>
<a href="../../OrchardCore.Data.YesSql/OrchardCoreBuilderExtensions.cs.html#129"><b>129</b><i>ShellScope</i>.Current</a>
</div>
</div>
<div class="rA">OrchardCore.Logging.NLog (1)</div><div class="rG" id="OrchardCore.Logging.NLog"><div class="rF"><div class="rN">TenantLayoutRenderer.cs (1)</div>
<a href="../../OrchardCore.Logging.NLog/TenantLayoutRenderer.cs.html#20"><b>20</b>var tenantName = <i>ShellScope</i>.Context?.Settings.Name;</a>
</div>
</div>
<div class="rA">OrchardCore.Logging.Serilog (1)</div><div class="rG" id="OrchardCore.Logging.Serilog"><div class="rF"><div class="rN">SerilogTenantNameLoggingMiddleware.cs (1)</div>
<a href="../../OrchardCore.Logging.Serilog/SerilogTenantNameLoggingMiddleware.cs.html#19"><b>19</b>var tenantName = <i>ShellScope</i>.Context?.Settings.Name ?? &quot;None&quot;;</a>
</div>
</div>
<div class="rA">OrchardCore.Mvc.Core (2)</div><div class="rG" id="OrchardCore.Mvc.Core"><div class="rF"><div class="rN">ShellFeatureApplicationPart.cs (1)</div>
<a href="../../OrchardCore.Mvc.Core/ShellFeatureApplicationPart.cs.html#46"><b>46</b>var services = <i>ShellScope</i>.Services;</a>
</div>
<div class="rF"><div class="rN">ShellViewFeatureProvider.cs (1)</div>
<a href="../../OrchardCore.Mvc.Core/ShellViewFeatureProvider.cs.html#166"><b>166</b>var services = <i>ShellScope</i>.Services;</a>
</div>
</div>
</body></html>