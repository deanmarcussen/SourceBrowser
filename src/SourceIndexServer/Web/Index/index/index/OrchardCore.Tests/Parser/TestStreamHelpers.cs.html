<!DOCTYPE html>
<html><head><title>TestStreamHelpers.cs</title><link rel="stylesheet" href="../../styles.css"><script src="../../scripts.js"></script></head>
<body class="cB" onload="i(113);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#OrchardCore.Tests/Parser/TestStreamHelpers.cs" target="_top">Parser\TestStreamHelpers.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#OrchardCore.Tests" target="_top">test\OrchardCore.Tests\OrchardCore.Tests.csproj</a> (OrchardCore.Tests)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">IO</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Extensions</span>.<span class="i n">FileProviders</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Extensions</span>.<span class="i n">Primitives</span>;
 
<b>namespace</b> <span class="i n">OrchardCore</span>.<span class="i n">Tests</span>.<span class="i n">Parser</span>
{
    <b>public static class</b> <a id="c3dc2da491635463" href="../R/../../0000000000.html" target="n" data-glyph="0,0" class="t t">TestStreamHelpers</a>
    {
        <b>public static readonly string</b> <a id="01e48c2af09d00ee" href="../R/../../0000000000.html" target="n" data-glyph="42,1" class="i field">ArbitraryFilePath</a> = <span class="s">&quot;Unit tests do not touch file system&quot;</span>;
 
        <b>public static</b> <span class="t t">IFileProvider</span> <a id="f0b6df01d3af26f7" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">StringToFileProvider</a>(<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r0 rd" class="r0 r">str</span>)
        {
            <b>return</b> <b>new</b> <a href="#c0aed6a7a181e639" class="t constructor">TestFileProvider</a>(<span class="r0 r">str</span>);
        }
 
        <b>private class</b> <a id="d8066ecb317c5377" href="../R/d8066ecb317c5377.html" target="n" data-glyph="4,1" class="t t">TestFile</a> : <span class="t t">IFileInfo</span>
        {
            <b>private readonly string</b> <a id="b9684c5f195e5333" href="../R/b9684c5f195e5333.html" target="n" data-glyph="46,2" class="i field">_str</a>;
 
            <b>public</b> <a id="baaa44190b1d68f7" href="../R/baaa44190b1d68f7.html" target="n" data-glyph="72,2" class="t constructor">TestFile</a>(<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r1 rd" class="r1 r">str</span>)
            {
                <a href="#b9684c5f195e5333" class="i field">_str</a> = <span class="r1 r">str</span>;
            }
 
            <b>public</b> <a href="@1@System.Runtime/A.html#f956b0c07e86df64" class="t t">Stream</a> <a id="dc3757776644f0fe" href="../R/dc3757776644f0fe.html" target="n" data-glyph="72,2" class="i method">CreateReadStream</a>()
            {
                <b>return</b> <a href="#e239c10659bf0b88" class="i method">StringToStream</a>(<a href="#b9684c5f195e5333" class="i field">_str</a>);
            }
 
            <b>public bool</b> <a id="3ad4158aa583c624" href="../R/3ad4158aa583c624.html" target="n" data-glyph="102,2" class="i property">Exists</a> { <b>get</b>; } = <b>true</b>;
 
            <b>public long</b> <a id="8f2ea8469aa54db8" href="../R/8f2ea8469aa54db8.html" target="n" data-glyph="102,2" class="i property">Length</a>
            {
                <b>get</b>
                {
                    <b>throw</b> <b>new</b> <a href="@1@System.Runtime/A.html#085d4139ffb78d13" class="t constructor">NotImplementedException</a>();
                }
            }
 
            <b>public string</b> <a id="f23a496db6f63695" href="../R/f23a496db6f63695.html" target="n" data-glyph="102,2" class="i property">PhysicalPath</a>
            {
                <b>get</b>
                {
                    <b>throw</b> <b>new</b> <a href="@1@System.Runtime/A.html#085d4139ffb78d13" class="t constructor">NotImplementedException</a>();
                }
            }
 
            <b>public string</b> <a id="bf6aa4bcf2d7415e" href="../R/bf6aa4bcf2d7415e.html" target="n" data-glyph="102,2" class="i property">Name</a>
            {
                <b>get</b>
                {
                    <b>throw</b> <b>new</b> <a href="@1@System.Runtime/A.html#085d4139ffb78d13" class="t constructor">NotImplementedException</a>();
                }
            }
 
            <b>public</b> <a href="@1@System.Runtime/A.html#68b4bb83ce8d1c31" class="t t">DateTimeOffset</a> <a id="8c2f52fe1c869bae" href="../R/8c2f52fe1c869bae.html" target="n" data-glyph="102,2" class="i property">LastModified</a>
            {
                <b>get</b>
                {
                    <b>throw</b> <b>new</b> <a href="@1@System.Runtime/A.html#085d4139ffb78d13" class="t constructor">NotImplementedException</a>();
                }
            }
 
            <b>public bool</b> <a id="b8991c64aa0ce5c2" href="../R/b8991c64aa0ce5c2.html" target="n" data-glyph="102,2" class="i property">IsDirectory</a> { <b>get</b>; } = <b>false</b>;
        }
 
        <b>private class</b> <a id="b8c9712d70e9ec38" href="../R/b8c9712d70e9ec38.html" target="n" data-glyph="4,1" class="t t">TestFileProvider</a> : <span class="t t">IFileProvider</span>
        {
            <b>private readonly string</b> <a id="fa698294fe48531d" href="../R/fa698294fe48531d.html" target="n" data-glyph="46,2" class="i field">_str</a>;
 
            <b>public</b> <a id="c0aed6a7a181e639" href="../R/c0aed6a7a181e639.html" target="n" data-glyph="72,2" class="t constructor">TestFileProvider</a>(<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r2 rd" class="r2 r">str</span>)
            {
                <a href="#fa698294fe48531d" class="i field">_str</a> = <span class="r2 r">str</span>;
            }
 
            <b>public</b> <span class="t t">IFileInfo</span> <a id="c445e09c2c13f963" href="../R/c445e09c2c13f963.html" target="n" data-glyph="72,2" class="i method">GetFileInfo</a>(<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r3 rd" class="r3 r">subpath</span>)
            {
                <b>return</b> <b>new</b> <a href="#baaa44190b1d68f7" class="t constructor">TestFile</a>(<a href="#fa698294fe48531d" class="i field">_str</a>);
            }
 
            <b>public</b> <span class="t t">IDirectoryContents</span> <a id="c0aaf8293e0e1273" href="../R/c0aaf8293e0e1273.html" target="n" data-glyph="72,2" class="i method">GetDirectoryContents</a>(<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r4 rd" class="r4 r">subpath</span>)
            {
                <b>throw</b> <b>new</b> <a href="@1@System.Runtime/A.html#085d4139ffb78d13" class="t constructor">NotImplementedException</a>();
            }
 
            <b>public</b> <span class="t t">IChangeToken</span> <a id="54ef3db773690941" href="../R/54ef3db773690941.html" target="n" data-glyph="72,2" class="i method">Watch</a>(<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r5 rd" class="r5 r">filter</span>)
            {
                <b>throw</b> <b>new</b> <a href="@1@System.Runtime/A.html#085d4139ffb78d13" class="t constructor">NotImplementedException</a>();
            }
        }
 
        <b>public static</b> <a href="@1@System.Runtime/A.html#f956b0c07e86df64" class="t t">Stream</a> <a id="e239c10659bf0b88" href="../R/e239c10659bf0b88.html" target="n" data-glyph="72,1" class="i method">StringToStream</a>(<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r6 rd" class="r6 r">str</span>)
        {
            <a href="@1@System.Runtime/A.html#1a4dcb744a23ba6f" class="k">var</a> <span id="r7 rd" class="r7 r">memStream</span> = <b>new</b> <a href="@1@System.Runtime/A.html#d308091cc690e78d" class="t constructor">MemoryStream</a>();
            <a href="@1@System.Runtime/A.html#9e38cb1c84769eba" class="k">var</a> <span id="r8 rd" class="r8 r">textWriter</span> = <b>new</b> <a href="@1@System.Runtime/A.html#c73af21c3340883d" class="t constructor">StreamWriter</a>(<span class="r7 r">memStream</span>);
            <span class="r8 r">textWriter</span>.<a href="@1@System.Runtime/A.html#715bd5de78456219" class="i method">Write</a>(<span class="r6 r">str</span>);
            <span class="r8 r">textWriter</span>.<a href="@1@System.Runtime/A.html#4d8cd91791f0d47c" class="i method">Flush</a>();
            <span class="r7 r">memStream</span>.<a href="@1@System.Runtime/A.html#30f00da49c798fe1" class="i method">Seek</a>(0, <a href="@1@System.Runtime/A.html#2cc1cf6635f00a52" class="t t">SeekOrigin</a>.<a href="@1@System.Runtime/A.html#c29481af7c617299" class="i field">Begin</a>);
 
            <b>return</b> <span class="r7 r">memStream</span>;
        }
 
        <b>public static string</b> <a id="664ffe3b08a5681b" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">StreamToString</a>(<a href="@1@System.Runtime/A.html#f956b0c07e86df64" class="t t">Stream</a> <span id="r9 rd" class="r9 r">stream</span>)
        {
            <span class="r9 r">stream</span>.<a href="@1@System.Runtime/A.html#eb5599035c4388ce" class="i method">Seek</a>(0, <a href="@1@System.Runtime/A.html#2cc1cf6635f00a52" class="t t">SeekOrigin</a>.<a href="@1@System.Runtime/A.html#c29481af7c617299" class="i field">Begin</a>);
            <a href="@1@System.Runtime/A.html#b5fe1efcec14de32" class="k">var</a> <span id="r10 rd" class="r10 r">reader</span> = <b>new</b> <a href="@1@System.Runtime/A.html#72447927169f6b77" class="t constructor">StreamReader</a>(<span class="r9 r">stream</span>);
 
            <b>return</b> <span class="r10 r">reader</span>.<a href="@1@System.Runtime/A.html#dc5c2420e739a03e" class="i method">ReadToEnd</a>();
        }
    }
}
</pre></td></tr></table></div></body></html>
