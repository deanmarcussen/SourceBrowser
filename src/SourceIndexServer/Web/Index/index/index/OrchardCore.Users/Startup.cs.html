<!DOCTYPE html>
<html><head><title>Startup.cs</title><link rel="stylesheet" href="../styles.css"><script src="../scripts.js"></script></head>
<body class="cB" onload="i(470);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#OrchardCore.Users/Startup.cs" target="_top">Startup.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#OrchardCore.Users" target="_top">src\OrchardCore.Modules\OrchardCore.Users\OrchardCore.Users.csproj</a> (OrchardCore.Users)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Linq</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Security</span>.<span class="i n">Claims</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Web</span>;
<b>using</b> <span class="i">Fluid</span>;
<b>using</b> <span class="i">Fluid</span>.<span class="i">Values</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">AspNetCore</span>.<span class="i n">Authorization</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">AspNetCore</span>.<span class="i n">Builder</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">AspNetCore</span>.<span class="i n">Http</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">AspNetCore</span>.<span class="i n">Identity</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">AspNetCore</span>.<span class="i n">Routing</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Extensions</span>.<span class="i n">Configuration</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Extensions</span>.<span class="i n">DependencyInjection</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Extensions</span>.<span class="i n">DependencyInjection</span>.<span class="i n">Extensions</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Extensions</span>.<span class="i n">Localization</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Extensions</span>.<span class="i n">Options</span>;
<b>using</b> <span class="i n">OrchardCore</span>.<span class="i n">Admin</span>;
<b>using</b> <span class="i n">OrchardCore</span>.<span class="i n">Data</span>.<span class="i n">Migration</span>;
<b>using</b> <span class="i n">OrchardCore</span>.<span class="i">Deployment</span>;
<b>using</b> <span class="i n">OrchardCore</span>.<span class="i n">DisplayManagement</span>;
<b>using</b> <span class="i n">OrchardCore</span>.<span class="i n">DisplayManagement</span>.<span class="i n">Handlers</span>;
<b>using</b> <span class="i n">OrchardCore</span>.<span class="i n">DisplayManagement</span>.<span class="i n">Theming</span>;
<b>using</b> <span class="i n">OrchardCore</span>.<span class="i n">Entities</span>;
<b>using</b> <span class="i n">OrchardCore</span>.<span class="i n">Environment</span>.<span class="i n">Commands</span>;
<b>using</b> <span class="i n">OrchardCore</span>.<span class="i n">Environment</span>.<span class="i">Shell</span>;
<b>using</b> <span class="i n">OrchardCore</span>.<span class="i n">Environment</span>.<span class="i">Shell</span>.<span class="i">Configuration</span>;
<b>using</b> <span class="i n">OrchardCore</span>.<span class="i n">Environment</span>.<span class="i">Shell</span>.<span class="i">Scope</span>;
<b>using</b> <span class="i n">OrchardCore</span>.<span class="i n">Liquid</span>;
<b>using</b> <span class="i n">OrchardCore</span>.<span class="i">Modules</span>;
<b>using</b> <span class="i n">OrchardCore</span>.<span class="i">Mvc</span>.<span class="i">Core</span>.<span class="i">Utilities</span>;
<b>using</b> <span class="i n">OrchardCore</span>.<span class="i n">Navigation</span>;
<b>using</b> <span class="i n">OrchardCore</span>.<span class="i n">Recipes</span>.<span class="i n">Services</span>;
<b>using</b> <span class="i n">OrchardCore</span>.<span class="i n">Security</span>;
<b>using</b> <span class="i n">OrchardCore</span>.<span class="i n">Security</span>.<span class="i n">Permissions</span>;
<b>using</b> <span class="i n">OrchardCore</span>.<span class="i n">Settings</span>;
<b>using</b> <span class="i n">OrchardCore</span>.<span class="i n">Settings</span>.<span class="i n">Deployment</span>;
<b>using</b> <span class="i n">OrchardCore</span>.<span class="i n">Setup</span>.<span class="i n">Events</span>;
<b>using</b> <span class="i n">OrchardCore</span>.<span class="i n">Users</span>.<span class="i n">Commands</span>;
<b>using</b> <span class="i n">OrchardCore</span>.<span class="i n">Users</span>.<span class="i n">Controllers</span>;
<b>using</b> <span class="i n">OrchardCore</span>.<span class="i n">Users</span>.<span class="i n">Drivers</span>;
<b>using</b> <span class="i n">OrchardCore</span>.<span class="i n">Users</span>.<span class="i n">Indexes</span>;
<b>using</b> <span class="i n">OrchardCore</span>.<span class="i n">Users</span>.<span class="i n">Liquid</span>;
<b>using</b> <span class="i n">OrchardCore</span>.<span class="i n">Users</span>.<span class="i n">Models</span>;
<b>using</b> <span class="i n">OrchardCore</span>.<span class="i n">Users</span>.<span class="i n">Services</span>;
<b>using</b> <span class="i n">OrchardCore</span>.<span class="i n">Users</span>.<span class="i n">ViewModels</span>;
<b>using</b> <span class="i">YesSql</span>.<span class="i">Filters</span>.<span class="i">Query</span>;
<b>using</b> <span class="i">YesSql</span>.<span class="i">Indexes</span>;
 
<b>namespace</b> <span class="i n">OrchardCore</span>.<span class="i n">Users</span>
{
    <b>public class</b> <a id="b00ce6b6e0f77463" href="R/../../0000000000.html" target="n" data-glyph="0,0" class="t t">Startup</a> : <span class="i">StartupBase</span>
    {
        <b>private readonly</b> <a href="/OrchardCore.Admin.Abstractions/A.html#ce010d95061d963d" class="t t">AdminOptions</a> <a id="0b9672d7fe67daa9" href="R/0b9672d7fe67daa9.html" target="n" data-glyph="46,1" class="i field">_adminOptions</a>;
        <b>private readonly string</b> <a id="76a0345cd4673a74" href="R/76a0345cd4673a74.html" target="n" data-glyph="46,1" class="i field">_tenantName</a>;
 
        <b>public</b> <a id="ba91a5f98674e2f7" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="t constructor">Startup</a>(<span class="t t">IOptions</span>&lt;<a href="/OrchardCore.Admin.Abstractions/A.html#ce010d95061d963d" class="t t">AdminOptions</a>&gt; <span id="r0 rd" class="r0 r">adminOptions</span>, <span class="i">ShellSettings</span> <span id="r1 rd" class="r1 r">shellSettings</span>)
        {
            <a href="#0b9672d7fe67daa9" class="i field">_adminOptions</a> = <span class="r0 r">adminOptions</span>.<span class="i property">Value</span>;
            <a href="#76a0345cd4673a74" class="i field">_tenantName</a> = <span class="r1 r">shellSettings</span>.<span class="i">Name</span>;
        }
 
        <b>public override void</b> <a id="92f5084980d7ace3" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">Configure</a>(<span class="t t">IApplicationBuilder</span> <span id="r2 rd" class="r2 r">builder</span>, <span class="t t">IEndpointRouteBuilder</span> <span id="r3 rd" class="r3 r">routes</span>, <span class="t t">IServiceProvider</span> <span id="r4 rd" class="r4 r">serviceProvider</span>)
        {
            <b>var</b> <span id="r5 rd" class="r5 r">userOptions</span> = <span class="r4 r">serviceProvider</span>.<span class="i method">GetRequiredService</span>&lt;<span class="t t">IOptions</span>&lt;<span class="t t">UserOptions</span>&gt;&gt;().<span class="i property">Value</span>;
 
            <b>var</b> <span id="r6 rd" class="r6 r">accountControllerName</span> = <b>typeof</b>(<a href="Controllers/AccountController.cs.html#3c4a62288ea15c04" class="t t">AccountController</a>).<span class="i">ControllerName</span>();
 
            <span class="r3 r">routes</span>.<span class="i">MapAreaControllerRoute</span>(
                <span class="i">name</span>: <span class="s">&quot;Login&quot;</span>,
                <span class="i">areaName</span>: <span class="s">&quot;OrchardCore.Users&quot;</span>,
                <span class="i">pattern</span>: <span class="r5 r">userOptions</span>.<span class="i">LoginPath</span>,
                <span class="i">defaults</span>: <b>new</b> { <a href="#1c8758d845f4a816" class="i property">controller</a> = <span class="r6 r">accountControllerName</span>, <a href="#4ce42354c8f69fc1" class="i property">action</a> = <b>nameof</b>(<a href="Controllers/AccountController.cs.html#3c4a62288ea15c04" class="t t">AccountController</a>.<span class="i">Login</span>) }
            );
            <span class="r3 r">routes</span>.<span class="i">MapAreaControllerRoute</span>(
                <span class="i">name</span>: <span class="s">&quot;ChangePassword&quot;</span>,
                <span class="i">areaName</span>: <span class="s">&quot;OrchardCore.Users&quot;</span>,
                <span class="i">pattern</span>: <span class="r5 r">userOptions</span>.<span class="i">ChangePasswordUrl</span>,
                <span class="i">defaults</span>: <b>new</b> { <a href="#1c8758d845f4a816" class="i property">controller</a> = <span class="r6 r">accountControllerName</span>, <a href="#4ce42354c8f69fc1" class="i property">action</a> = <b>nameof</b>(<a href="Controllers/AccountController.cs.html#3c4a62288ea15c04" class="t t">AccountController</a>.<span class="i">ChangePassword</span>) }
            );
 
            <span class="r3 r">routes</span>.<span class="i">MapAreaControllerRoute</span>(
                <span class="i">name</span>: <span class="s">&quot;UsersLogOff&quot;</span>,
                <span class="i">areaName</span>: <span class="s">&quot;OrchardCore.Users&quot;</span>,
                <span class="i">pattern</span>: <span class="r5 r">userOptions</span>.<span class="i">LogoffPath</span>,
                <span class="i">defaults</span>: <b>new</b> { <a href="#1c8758d845f4a816" class="i property">controller</a> = <span class="r6 r">accountControllerName</span>, <a href="#4ce42354c8f69fc1" class="i property">action</a> = <b>nameof</b>(<a href="Controllers/AccountController.cs.html#3c4a62288ea15c04" class="t t">AccountController</a>.<span class="i">LogOff</span>) }
            );
 
            <span class="r3 r">routes</span>.<span class="i">MapAreaControllerRoute</span>(
                <span class="i">name</span>: <span class="s">&quot;ExternalLogins&quot;</span>,
                <span class="i">areaName</span>: <span class="s">&quot;OrchardCore.Users&quot;</span>,
                <span class="i">pattern</span>: <span class="r5 r">userOptions</span>.<span class="i">ExternalLoginsUrl</span>,
                <span class="i">defaults</span>: <b>new</b> { <a href="#1c8758d845f4a816" class="i property">controller</a> = <span class="r6 r">accountControllerName</span>, <a href="#4ce42354c8f69fc1" class="i property">action</a> = <b>nameof</b>(<a href="Controllers/AccountController.cs.html#3c4a62288ea15c04" class="t t">AccountController</a>.<span class="i">ExternalLogins</span>) }
            );
 
            <b>var</b> <span id="r7 rd" class="r7 r">adminControllerName</span> = <b>typeof</b>(<a href="Controllers/AdminController.cs.html#ba32372e240bc7aa" class="t t">AdminController</a>).<span class="i">ControllerName</span>();
 
            <span class="r3 r">routes</span>.<span class="i method">MapAreaControllerRoute</span>(
                <span class="r8 r">name</span>: <span class="s">&quot;UsersIndex&quot;</span>,
                <span class="r9 r">areaName</span>: <span class="s">&quot;OrchardCore.Users&quot;</span>,
                <span class="r10 r">pattern</span>: <a href="#0b9672d7fe67daa9" class="i field">_adminOptions</a>.<a href="/OrchardCore.Admin.Abstractions/A.html#16eba6a799ca33d5" class="i property">AdminUrlPrefix</a> + <span class="s">&quot;/Users/Index&quot;</span>,
                <span class="r11 r">defaults</span>: <b>new</b> { <a href="#1c8758d845f4a816" class="i property">controller</a> = <span class="r7 r">adminControllerName</span>, <a href="#4ce42354c8f69fc1" class="i property">action</a> = <b>nameof</b>(<a href="Controllers/AdminController.cs.html#ba32372e240bc7aa" class="t t">AdminController</a>.<span class="i">Index</span>) }
            );
            <span class="r3 r">routes</span>.<span class="i method">MapAreaControllerRoute</span>(
                <span class="r8 r">name</span>: <span class="s">&quot;UsersCreate&quot;</span>,
                <span class="r9 r">areaName</span>: <span class="s">&quot;OrchardCore.Users&quot;</span>,
                <span class="r10 r">pattern</span>: <a href="#0b9672d7fe67daa9" class="i field">_adminOptions</a>.<a href="/OrchardCore.Admin.Abstractions/A.html#16eba6a799ca33d5" class="i property">AdminUrlPrefix</a> + <span class="s">&quot;/Users/Create&quot;</span>,
                <span class="r11 r">defaults</span>: <b>new</b> { <a href="#1c8758d845f4a816" class="i property">controller</a> = <span class="r7 r">adminControllerName</span>, <a href="#4ce42354c8f69fc1" class="i property">action</a> = <b>nameof</b>(<a href="Controllers/AdminController.cs.html#ba32372e240bc7aa" class="t t">AdminController</a>.<span class="i">Create</span>) }
            );
            <span class="r3 r">routes</span>.<span class="i method">MapAreaControllerRoute</span>(
                <span class="r8 r">name</span>: <span class="s">&quot;UsersDelete&quot;</span>,
                <span class="r9 r">areaName</span>: <span class="s">&quot;OrchardCore.Users&quot;</span>,
                <span class="r10 r">pattern</span>: <a href="#0b9672d7fe67daa9" class="i field">_adminOptions</a>.<a href="/OrchardCore.Admin.Abstractions/A.html#16eba6a799ca33d5" class="i property">AdminUrlPrefix</a> + <span class="s">&quot;/Users/Delete/{id}&quot;</span>,
                <span class="r11 r">defaults</span>: <b>new</b> { <a href="#1c8758d845f4a816" class="i property">controller</a> = <span class="r7 r">adminControllerName</span>, <a href="#4ce42354c8f69fc1" class="i property">action</a> = <b>nameof</b>(<a href="Controllers/AdminController.cs.html#ba32372e240bc7aa" class="t t">AdminController</a>.<span class="i">Delete</span>) }
            );
            <span class="r3 r">routes</span>.<span class="i method">MapAreaControllerRoute</span>(
                <span class="r8 r">name</span>: <span class="s">&quot;UsersEdit&quot;</span>,
                <span class="r9 r">areaName</span>: <span class="s">&quot;OrchardCore.Users&quot;</span>,
                <span class="r10 r">pattern</span>: <a href="#0b9672d7fe67daa9" class="i field">_adminOptions</a>.<a href="/OrchardCore.Admin.Abstractions/A.html#16eba6a799ca33d5" class="i property">AdminUrlPrefix</a> + <span class="s">&quot;/Users/Edit/{id?}&quot;</span>,
                <span class="r11 r">defaults</span>: <b>new</b> { <a href="#1c8758d845f4a816" class="i property">controller</a> = <span class="r7 r">adminControllerName</span>, <a href="#4ce42354c8f69fc1" class="i property">action</a> = <b>nameof</b>(<a href="Controllers/AdminController.cs.html#ba32372e240bc7aa" class="t t">AdminController</a>.<span class="i">Edit</span>) }
            );
 
            <span class="r2 r">builder</span>.<span class="i method">UseAuthorization</span>();
        }
 
        <b>public override void</b> <a id="3acd3276416331fd" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">ConfigureServices</a>(<span class="t t">IServiceCollection</span> <span id="r12 rd" class="r12 r">services</span>)
        {
            <span class="r12 r">services</span>.<span class="i">Configure</span>&lt;<span class="t t">UserOptions</span>&gt;(<span id="r13 rd" class="r13 r">userOptions</span> =&gt;
            {
                <b>var</b> <span id="r14 rd" class="r14 r">configuration</span> = <span class="i">ShellScope</span>.<span class="i">Services</span>.<span class="i">GetRequiredService</span>&lt;<span class="i">IShellConfiguration</span>&gt;();
                <span class="r14 r">configuration</span>.<span class="i">GetSection</span>(<span class="s">&quot;OrchardCore_Users&quot;</span>).<span class="i">Bind</span>(<span class="r13 r">userOptions</span>);
            });
 
            <span class="c">// Add ILookupNormalizer as Singleton because it is needed by UserIndexProvider</span>
            <span class="r12 r">services</span>.<span class="i method">TryAddSingleton</span>&lt;<span class="t t">ILookupNormalizer</span>, <span class="t t">UpperInvariantLookupNormalizer</span>&gt;();
 
            <span class="c">// Adds the default token providers used to generate tokens for reset passwords, change email</span>
            <span class="c">// and change telephone number operations, and for two factor authentication token generation.</span>
            <span class="r12 r">services</span>.<span class="i method">AddIdentity</span>&lt;<span class="i">IUser</span>, <a href="/OrchardCore.Infrastructure.Abstractions/A.html#025444e1898eee0f" class="t t">IRole</a>&gt;(<span id="r15 rd" class="r15 r">options</span> =&gt;
            {
                <span class="c">// Specify OrchardCore User requirements.</span>
                <span class="c">// A user name cannot include an @ symbol, i.e. be an email address</span>
                <span class="c">// An email address must be provided, and be unique.</span>
                <span class="r15 r">options</span>.<span class="i property">User</span>.<span class="i property">AllowedUserNameCharacters</span> = <span class="s">&quot;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-._+&quot;</span>;
                <span class="r15 r">options</span>.<span class="i property">User</span>.<span class="i property">RequireUniqueEmail</span> = <b>true</b>;
            })
            .<span class="i method">AddDefaultTokenProviders</span>();
 
            <span class="c">// Configure the authentication options to use the application cookie scheme as the default sign-out handler.</span>
            <span class="c">// This is required for security modules like the OpenID module (that uses SignOutAsync()) to work correctly.</span>
            <span class="r12 r">services</span>.<span class="i method">AddAuthentication</span>(<span id="r16 rd" class="r16 r">options</span> =&gt; <span class="r16 r">options</span>.<span class="i property">DefaultSignOutScheme</span> = <span class="t t">IdentityConstants</span>.<span class="i field">ApplicationScheme</span>);
 
            <span class="r12 r">services</span>.<span class="i method">TryAddScoped</span>&lt;<a href="/OrchardCore.Users.Core/A.html#e31f3cc7cd44686a" class="t t">UserStore</a>&gt;();
            <span class="r12 r">services</span>.<span class="i">TryAddScoped</span>&lt;<span class="t t">IUserStore</span>&lt;<span class="i">IUser</span>&gt;&gt;(<span id="r17 rd" class="r17 r">sp</span> =&gt; <span class="r17 r">sp</span>.<span class="i method">GetRequiredService</span>&lt;<a href="/OrchardCore.Users.Core/A.html#e31f3cc7cd44686a" class="t t">UserStore</a>&gt;());
            <span class="r12 r">services</span>.<span class="i">TryAddScoped</span>&lt;<span class="t t">IUserRoleStore</span>&lt;<span class="i">IUser</span>&gt;&gt;(<span id="r18 rd" class="r18 r">sp</span> =&gt; <span class="r18 r">sp</span>.<span class="i method">GetRequiredService</span>&lt;<a href="/OrchardCore.Users.Core/A.html#e31f3cc7cd44686a" class="t t">UserStore</a>&gt;());
            <span class="r12 r">services</span>.<span class="i">TryAddScoped</span>&lt;<span class="t t">IUserPasswordStore</span>&lt;<span class="i">IUser</span>&gt;&gt;(<span id="r19 rd" class="r19 r">sp</span> =&gt; <span class="r19 r">sp</span>.<span class="i method">GetRequiredService</span>&lt;<a href="/OrchardCore.Users.Core/A.html#e31f3cc7cd44686a" class="t t">UserStore</a>&gt;());
            <span class="r12 r">services</span>.<span class="i">TryAddScoped</span>&lt;<span class="t t">IUserEmailStore</span>&lt;<span class="i">IUser</span>&gt;&gt;(<span id="r20 rd" class="r20 r">sp</span> =&gt; <span class="r20 r">sp</span>.<span class="i method">GetRequiredService</span>&lt;<a href="/OrchardCore.Users.Core/A.html#e31f3cc7cd44686a" class="t t">UserStore</a>&gt;());
            <span class="r12 r">services</span>.<span class="i">TryAddScoped</span>&lt;<span class="t t">IUserSecurityStampStore</span>&lt;<span class="i">IUser</span>&gt;&gt;(<span id="r21 rd" class="r21 r">sp</span> =&gt; <span class="r21 r">sp</span>.<span class="i method">GetRequiredService</span>&lt;<a href="/OrchardCore.Users.Core/A.html#e31f3cc7cd44686a" class="t t">UserStore</a>&gt;());
            <span class="r12 r">services</span>.<span class="i">TryAddScoped</span>&lt;<span class="t t">IUserLoginStore</span>&lt;<span class="i">IUser</span>&gt;&gt;(<span id="r22 rd" class="r22 r">sp</span> =&gt; <span class="r22 r">sp</span>.<span class="i method">GetRequiredService</span>&lt;<a href="/OrchardCore.Users.Core/A.html#e31f3cc7cd44686a" class="t t">UserStore</a>&gt;());
            <span class="r12 r">services</span>.<span class="i">TryAddScoped</span>&lt;<span class="t t">IUserClaimStore</span>&lt;<span class="i">IUser</span>&gt;&gt;(<span id="r23 rd" class="r23 r">sp</span> =&gt; <span class="r23 r">sp</span>.<span class="i method">GetRequiredService</span>&lt;<a href="/OrchardCore.Users.Core/A.html#e31f3cc7cd44686a" class="t t">UserStore</a>&gt;());
            <span class="r12 r">services</span>.<span class="i">TryAddScoped</span>&lt;<span class="t t">IUserAuthenticationTokenStore</span>&lt;<span class="i">IUser</span>&gt;&gt;(<span id="r24 rd" class="r24 r">sp</span> =&gt; <span class="r24 r">sp</span>.<span class="i method">GetRequiredService</span>&lt;<a href="/OrchardCore.Users.Core/A.html#e31f3cc7cd44686a" class="t t">UserStore</a>&gt;());
 
            <span class="r12 r">services</span>.<span class="i">ConfigureApplicationCookie</span>(<span id="r25 rd" class="r25 r">options</span> =&gt;
            {
                <b>var</b> <span id="r26 rd" class="r26 r">userOptions</span> = <span class="i">ShellScope</span>.<span class="i">Services</span>.<span class="i">GetRequiredService</span>&lt;<span class="t t">IOptions</span>&lt;<span class="t t">UserOptions</span>&gt;&gt;();
 
                <span class="r25 r">options</span>.<span class="i property">Cookie</span>.<span class="i property">Name</span> = <span class="s">&quot;orchauth_&quot;</span> + <span class="t t">HttpUtility</span>.<span class="i method">UrlEncode</span>(<a href="#76a0345cd4673a74" class="i field">_tenantName</a>);
 
                <span class="c">// Don&#39;t set the cookie builder &#39;Path&#39; so that it uses the &#39;IAuthenticationFeature&#39; value</span>
                <span class="c">// set by the pipeline and comming from the request &#39;PathBase&#39; which already ends with the</span>
                <span class="c">// tenant prefix but may also start by a path related e.g to a virtual folder.</span>
 
                <span class="r25 r">options</span>.<span class="i property">LoginPath</span> = <span class="s">&quot;/&quot;</span> + <span class="r26 r">userOptions</span>.<span class="i property">Value</span>.<span class="i">LoginPath</span>;
                <span class="r25 r">options</span>.<span class="i property">LogoutPath</span> = <span class="s">&quot;/&quot;</span> + <span class="r26 r">userOptions</span>.<span class="i property">Value</span>.<span class="i">LogoffPath</span>;
                <span class="r25 r">options</span>.<span class="i property">AccessDeniedPath</span> = <span class="s">&quot;/Error/403&quot;</span>;
            });
 
            <span class="r12 r">services</span>.<span class="i">AddSingleton</span>&lt;<span class="i">IIndexProvider</span>, <a href="/OrchardCore.Users.Core/A.html#2cd267fa33e98ba8" class="t t">UserIndexProvider</a>&gt;();
            <span class="r12 r">services</span>.<span class="i">AddSingleton</span>&lt;<span class="i">IIndexProvider</span>, <a href="/OrchardCore.Users.Core/A.html#5eaa64932141c763" class="t t">UserByRoleNameIndexProvider</a>&gt;();
            <span class="r12 r">services</span>.<span class="i">AddSingleton</span>&lt;<span class="i">IIndexProvider</span>, <a href="/OrchardCore.Users.Core/A.html#bc4bc848944cce26" class="t t">UserByLoginInfoIndexProvider</a>&gt;();
            <span class="r12 r">services</span>.<span class="i">AddSingleton</span>&lt;<span class="i">IIndexProvider</span>, <a href="/OrchardCore.Users.Core/A.html#6a46662356d3e61c" class="t t">UserByClaimIndexProvider</a>&gt;();
            <span class="r12 r">services</span>.<span class="i">AddScoped</span>&lt;<span class="i">IDataMigration</span>, <a href="Migrations.cs.html#e2a041267a1f72cf" class="t t">Migrations</a>&gt;();
 
            <span class="r12 r">services</span>.<span class="i">AddScoped</span>&lt;<span class="i">IUserService</span>, <a href="/OrchardCore.Users.Core/A.html#b42c6da8dd7f4b95" class="t t">UserService</a>&gt;();
            <span class="r12 r">services</span>.<span class="i">AddScoped</span>&lt;<span class="t t">IUserClaimsPrincipalFactory</span>&lt;<span class="i">IUser</span>&gt;, <a href="/OrchardCore.Users.Core/A.html#5f60fda410f16266" class="t t">DefaultUserClaimsPrincipalProviderFactory</a>&gt;();
            <span class="r12 r">services</span>.<span class="i">AddScoped</span>&lt;<span class="i">IUserClaimsProvider</span>, <a href="Services/EmailClaimsProvider.cs.html#4038cc5ff0cf92d6" class="t t">EmailClaimsProvider</a>&gt;();
            <span class="r12 r">services</span>.<span class="i">AddSingleton</span>&lt;<span class="i">IUserIdGenerator</span>, <a href="Services/DefaultUserIdGenerator.cs.html#e42ad52a40446bed" class="t t">DefaultUserIdGenerator</a>&gt;();
 
            <span class="r12 r">services</span>.<span class="i method">AddScoped</span>&lt;<span class="t t">IAuthorizationHandler</span>, <a href="Services/UserAuthorizationHandler.cs.html#8701e13ef33f6042" class="t t">UserAuthorizationHandler</a>&gt;();
 
            <span class="r12 r">services</span>.<span class="i">AddScoped</span>&lt;<span class="i">IMembershipService</span>, <a href="Services/MembershipService.cs.html#7651a35a51a9dcd1" class="t t">MembershipService</a>&gt;();
            <span class="r12 r">services</span>.<span class="i method">AddScoped</span>&lt;<a href="/OrchardCore.Setup.Abstractions/A.html#3b0dd557dce19a1a" class="t t">ISetupEventHandler</a>, <a href="Services/SetupEventHandler.cs.html#b3d08ac7baad8152" class="t t">SetupEventHandler</a>&gt;();
            <span class="r12 r">services</span>.<span class="i method">AddScoped</span>&lt;<a href="/OrchardCore.Infrastructure.Abstractions/A.html#b6e86f56da720eac" class="t t">ICommandHandler</a>, <a href="Commands/UserCommands.cs.html#54f1a0628542db56" class="t t">UserCommands</a>&gt;();
            <span class="r12 r">services</span>.<span class="i method">AddScoped</span>&lt;<a href="/OrchardCore.Infrastructure.Abstractions/A.html#2dadd5c6b895f727" class="t t">IRoleRemovedEventHandler</a>, <a href="Services/UserRoleRemovedEventHandler.cs.html#02c26119904f98ca" class="t t">UserRoleRemovedEventHandler</a>&gt;();
 
            <span class="r12 r">services</span>.<span class="i method">AddScoped</span>&lt;<a href="/OrchardCore.Infrastructure.Abstractions/A.html#a9d2914fb13fa8df" class="t t">IPermissionProvider</a>, <a href="Permissions.cs.html#4ff21952129a1a69" class="t t">Permissions</a>&gt;();
            <span class="r12 r">services</span>.<span class="i method">AddScoped</span>&lt;<a href="/OrchardCore.Navigation.Core/A.html#9919a71a2815e0c1" class="t t">INavigationProvider</a>, <a href="AdminMenu.cs.html#5ab5f82a978a3e13" class="t t">AdminMenu</a>&gt;();
 
            <span class="r12 r">services</span>.<span class="i method">AddScoped</span>&lt;<a href="/OrchardCore.DisplayManagement/A.html#d771cc6d0ec6c783" class="t t">IDisplayDriver</a>&lt;<a href="/OrchardCore.Infrastructure.Abstractions/A.html#e627b55b9075d808" class="t t">ISite</a>&gt;, <a href="Drivers/LoginSettingsDisplayDriver.cs.html#da2c2c432e01ba87" class="t t">LoginSettingsDisplayDriver</a>&gt;();
 
            <span class="r12 r">services</span>.<span class="i method">AddScoped</span>&lt;<a href="/OrchardCore.DisplayManagement/A.html#3210eac404b61aa1" class="t t">IDisplayManager</a>&lt;<a href="/OrchardCore.Users.Core/A.html#63066ddf792dff6e" class="t t">User</a>&gt;, <a href="/OrchardCore.DisplayManagement/A.html#141caee1ffe2e07b" class="t t">DisplayManager</a>&lt;<a href="/OrchardCore.Users.Core/A.html#63066ddf792dff6e" class="t t">User</a>&gt;&gt;();
            <span class="r12 r">services</span>.<span class="i method">AddScoped</span>&lt;<a href="/OrchardCore.DisplayManagement/A.html#d771cc6d0ec6c783" class="t t">IDisplayDriver</a>&lt;<a href="/OrchardCore.Users.Core/A.html#63066ddf792dff6e" class="t t">User</a>&gt;, <a href="Drivers/UserDisplayDriver.cs.html#758d4c138650a57c" class="t t">UserDisplayDriver</a>&gt;();
            <span class="r12 r">services</span>.<span class="i method">AddScoped</span>&lt;<a href="/OrchardCore.DisplayManagement/A.html#d771cc6d0ec6c783" class="t t">IDisplayDriver</a>&lt;<a href="/OrchardCore.Users.Core/A.html#63066ddf792dff6e" class="t t">User</a>&gt;, <a href="Drivers/UserRoleDisplayDriver.cs.html#80b269c93bcff890" class="t t">UserRoleDisplayDriver</a>&gt;();
            <span class="r12 r">services</span>.<span class="i method">AddScoped</span>&lt;<a href="/OrchardCore.DisplayManagement/A.html#d771cc6d0ec6c783" class="t t">IDisplayDriver</a>&lt;<a href="/OrchardCore.Users.Core/A.html#63066ddf792dff6e" class="t t">User</a>&gt;, <a href="Drivers/UserInformationDisplayDriver.cs.html#83988ed9b437540f" class="t t">UserInformationDisplayDriver</a>&gt;();
            <span class="r12 r">services</span>.<span class="i method">AddScoped</span>&lt;<a href="/OrchardCore.DisplayManagement/A.html#d771cc6d0ec6c783" class="t t">IDisplayDriver</a>&lt;<a href="/OrchardCore.Users.Core/A.html#63066ddf792dff6e" class="t t">User</a>&gt;, <a href="Drivers/UserButtonsDisplayDriver.cs.html#c215b06e0b92dda4" class="t t">UserButtonsDisplayDriver</a>&gt;();
 
            <span class="r12 r">services</span>.<span class="i method">AddScoped</span>&lt;<a href="/OrchardCore.DisplayManagement/A.html#5c1cab18db3d48ac" class="t t">IThemeSelector</a>, <a href="Services/UsersThemeSelector.cs.html#00e2e279478f4600" class="t t">UsersThemeSelector</a>&gt;();
 
            <span class="r12 r">services</span>.<span class="i method">AddScoped</span>&lt;<a href="/OrchardCore.Recipes.Abstractions/A.html#7e9e41998a28e814" class="t t">IRecipeEnvironmentProvider</a>, <a href="Services/RecipeEnvironmentSuperUserProvider.cs.html#a545ccdef4f30a9f" class="t t">RecipeEnvironmentSuperUserProvider</a>&gt;();
 
            <span class="r12 r">services</span>.<span class="i method">AddScoped</span>&lt;<a href="/OrchardCore.Users.Core/A.html#959666a1e2c80138" class="t t">IUsersAdminListQueryService</a>, <a href="Services/DefaultUsersAdminListQueryService.cs.html#d0841db8bf2b32c9" class="t t">DefaultUsersAdminListQueryService</a>&gt;();
 
            <span class="r12 r">services</span>.<span class="i method">AddScoped</span>&lt;<a href="/OrchardCore.DisplayManagement/A.html#3210eac404b61aa1" class="t t">IDisplayManager</a>&lt;<a href="/OrchardCore.Users.Core/A.html#d6f4ea408b8f1b1d" class="t t">UserIndexOptions</a>&gt;, <a href="/OrchardCore.DisplayManagement/A.html#141caee1ffe2e07b" class="t t">DisplayManager</a>&lt;<a href="/OrchardCore.Users.Core/A.html#d6f4ea408b8f1b1d" class="t t">UserIndexOptions</a>&gt;&gt;();
            <span class="r12 r">services</span>.<span class="i method">AddScoped</span>&lt;<a href="/OrchardCore.DisplayManagement/A.html#d771cc6d0ec6c783" class="t t">IDisplayDriver</a>&lt;<a href="/OrchardCore.Users.Core/A.html#d6f4ea408b8f1b1d" class="t t">UserIndexOptions</a>&gt;, <a href="Drivers/UserOptionsDisplayDriver.cs.html#2b9427306c276838" class="t t">UserOptionsDisplayDriver</a>&gt;();
 
            <span class="r12 r">services</span>.<span class="i">AddSingleton</span>&lt;<a href="/OrchardCore.Users.Core/A.html#f90952ba4d283063" class="t t">IUsersAdminListFilterParser</a>&gt;(<span id="r27 rd" class="r27 r">sp</span> =&gt;
            {
                <a href="@1@System.Runtime/A.html#3acf01620172c7f0" class="k">var</a> <span id="r28 rd" class="r28 r">filterProviders</span> = <span class="r27 r">sp</span>.<span class="i method">GetServices</span>&lt;<a href="/OrchardCore.Users.Core/A.html#f8dd98e165b4f01e" class="t t">IUsersAdminListFilterProvider</a>&gt;();
                <b>var</b> <span id="r29 rd" class="r29 r">builder</span> = <b>new</b> <span class="i">QueryEngineBuilder</span>&lt;<a href="/OrchardCore.Users.Core/A.html#63066ddf792dff6e" class="t t">User</a>&gt;();
                <b>foreach</b> (<a href="/OrchardCore.Users.Core/A.html#f8dd98e165b4f01e" class="k">var</a> <span id="r30 rd" class="r30 r">provider</span> <b>in</b> <span class="r28 r">filterProviders</span>)
                {
                    <span class="r30 r">provider</span>.<span class="i">Build</span>(<span class="r29 r">builder</span>);
                }
 
                <b>var</b> <span id="r31 rd" class="r31 r">parser</span> = <span class="r29 r">builder</span>.<span class="i">Build</span>();
 
                <b>return</b> <b>new</b> <span class="t">DefaultUsersAdminListFilterParser</span>(<span class="r31 r">parser</span>);
            });
 
            <span class="r12 r">services</span>.<span class="i method">AddTransient</span>&lt;<a href="/OrchardCore.Users.Core/A.html#f8dd98e165b4f01e" class="t t">IUsersAdminListFilterProvider</a>, <a href="Services/DefaultUsersAdminListFilterProvider.cs.html#ef2c8d74e8004e3d" class="t t">DefaultUsersAdminListFilterProvider</a>&gt;();
 
        }
    }
 
    [<span class="i">RequireFeatures</span>(<span class="s">&quot;OrchardCore.Liquid&quot;</span>)]
    <b>public class</b> <a id="aa95b3c96118f505" href="R/../../0000000000.html" target="n" data-glyph="0,0" class="t t"><span id="eadd1d9be89d9518">LiquidStartup</span></a> : <span class="i">StartupBase</span>
    {
        <b>public override void</b> <a id="c9e5e8bca1f334eb" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">ConfigureServices</a>(<span class="t t">IServiceCollection</span> <span id="r32 rd" class="r32 r">services</span>)
        {
            <span class="r32 r">services</span>.<span class="i">Configure</span>&lt;<span class="i">TemplateOptions</span>&gt;(<span id="r33 rd" class="r33 r">o</span> =&gt;
            {
                <span class="r33 r">o</span>.<span class="i">Filters</span>.<span class="i">AddFilter</span>(<span class="s">&quot;has_claim&quot;</span>, <a href="Liquid/UserFilters.cs.html#0935c4e71392b78e" class="t t">UserFilters</a>.<span class="i">HasClaim</span>);
                <span class="r33 r">o</span>.<span class="i">Filters</span>.<span class="i">AddFilter</span>(<span class="s">&quot;user_id&quot;</span>, <a href="Liquid/UserFilters.cs.html#0935c4e71392b78e" class="t t">UserFilters</a>.<span class="i">UserId</span>);
 
                <span class="r33 r">o</span>.<span class="i">MemberAccessStrategy</span>.<span class="i">Register</span>&lt;<span class="t t">ClaimsPrincipal</span>&gt;();
                <span class="r33 r">o</span>.<span class="i">MemberAccessStrategy</span>.<span class="i">Register</span>&lt;<span class="t t">ClaimsIdentity</span>&gt;();
 
                <span class="r33 r">o</span>.<span class="i">Scope</span>.<span class="i">SetValue</span>(<span class="s">&quot;User&quot;</span>, <b>new</b> <span class="i">ObjectValue</span>(<b>new</b> <a href="Liquid/LiquidUserAccessor.cs.html#ced7e178866ff237" class="t constructor">LiquidUserAccessor</a>()));
                <span class="r33 r">o</span>.<span class="i">MemberAccessStrategy</span>.<span class="i">Register</span>&lt;<a href="Liquid/LiquidUserAccessor.cs.html#ced7e178866ff237" class="t t">LiquidUserAccessor</a>, <span class="i">FluidValue</span>&gt;((<span id="r34 rd" class="r34 r">obj</span>, <span id="r35 rd" class="r35 r">name</span>, <span id="r36 rd" class="r36 r">ctx</span>) =&gt;
                {
                    <b>var</b> <span id="r37 rd" class="r37 r">user</span> = ((<a href="/OrchardCore.Liquid.Abstractions/A.html#e17bfc00558bbb3a" class="t t">LiquidTemplateContext</a>)<span class="r36 r">ctx</span>).<a href="/OrchardCore.Liquid.Abstractions/A.html#35b8fed4ca686dda" class="i property">Services</a>.<span class="i method">GetRequiredService</span>&lt;<span class="t t">IHttpContextAccessor</span>&gt;().<span class="i property">HttpContext</span>?.<span class="i property">User</span>;
                    <b>if</b> (<span class="r37 r">user</span> != <b>null</b>)
                    {
                        <b>return</b> <span class="r35 r">name</span> <b>switch</b>
                        {
                            <b>nameof</b>(<span class="t t">ClaimsPrincipal</span>.<span class="i property">Identity</span>) =&gt; <b>new</b> <span class="i">ObjectValue</span>(<span class="r37 r">user</span>.<span class="i">Identity</span>),
                            <b>_</b> =&gt; <span class="i">NilValue</span>.<span class="i">Instance</span>
                        };
                    }
 
                    <b>return</b> <span class="i">NilValue</span>.<span class="i">Instance</span>;
                });
 
                <span class="r33 r">o</span>.<span class="i">MemberAccessStrategy</span>.<span class="i">Register</span>&lt;<a href="/OrchardCore.Users.Core/A.html#63066ddf792dff6e" class="t t">User</a>, <span class="i">FluidValue</span>&gt;((<span id="r38 rd" class="r38 r">user</span>, <span id="r39 rd" class="r39 r">name</span>, <span id="r40 rd" class="r40 r">context</span>) =&gt;
                {
                    <b>return</b> <span class="r39 r">name</span> <b>switch</b>
                    {
                        <b>nameof</b>(<a href="/OrchardCore.Users.Core/A.html#63066ddf792dff6e" class="t t">User</a>.<a href="/OrchardCore.Users.Core/A.html#5266f2eb7ec27bf4" class="i property">UserId</a>) =&gt; <b>new</b> <span class="i">StringValue</span>(<span class="r38 r">user</span>.<span class="i">UserId</span>),
                        <b>nameof</b>(<a href="/OrchardCore.Users.Core/A.html#63066ddf792dff6e" class="t t">User</a>.<a href="/OrchardCore.Users.Core/A.html#d3cb3fa5644a34e8" class="i property">UserName</a>) =&gt; <b>new</b> <span class="i">StringValue</span>(<span class="r38 r">user</span>.<span class="i">UserName</span>),
                        <b>nameof</b>(<a href="/OrchardCore.Users.Core/A.html#63066ddf792dff6e" class="t t">User</a>.<a href="/OrchardCore.Users.Core/A.html#1b18fd938ed92340" class="i property">NormalizedUserName</a>) =&gt; <b>new</b> <span class="i">StringValue</span>(<span class="r38 r">user</span>.<span class="i">NormalizedUserName</span>),
                        <b>nameof</b>(<a href="/OrchardCore.Users.Core/A.html#63066ddf792dff6e" class="t t">User</a>.<a href="/OrchardCore.Users.Core/A.html#a74bfba9045d0dd7" class="i property">Email</a>) =&gt; <b>new</b> <span class="i">StringValue</span>(<span class="r38 r">user</span>.<span class="i">Email</span>),
                        <b>nameof</b>(<a href="/OrchardCore.Users.Core/A.html#63066ddf792dff6e" class="t t">User</a>.<a href="/OrchardCore.Users.Core/A.html#e9ad5247deea6de9" class="i property">NormalizedEmail</a>) =&gt; <b>new</b> <span class="i">StringValue</span>(<span class="r38 r">user</span>.<span class="i">NormalizedEmail</span>),
                        <b>nameof</b>(<a href="/OrchardCore.Users.Core/A.html#63066ddf792dff6e" class="t t">User</a>.<a href="/OrchardCore.Users.Core/A.html#a81bf3b3d6c7ea18" class="i property">EmailConfirmed</a>) =&gt; <span class="r38 r">user</span>.<span class="i">EmailConfirmed</span> ? <span class="i">BooleanValue</span>.<span class="i">True</span> : <span class="i">BooleanValue</span>.<span class="i">False</span>,
                        <b>nameof</b>(<a href="/OrchardCore.Users.Core/A.html#63066ddf792dff6e" class="t t">User</a>.<a href="/OrchardCore.Users.Core/A.html#04ad20cf959d0407" class="i property">IsEnabled</a>) =&gt; <span class="r38 r">user</span>.<span class="i">IsEnabled</span> ? <span class="i">BooleanValue</span>.<span class="i">True</span> : <span class="i">BooleanValue</span>.<span class="i">False</span>,
                        <b>nameof</b>(<a href="/OrchardCore.Users.Core/A.html#63066ddf792dff6e" class="t t">User</a>.<a href="/OrchardCore.Users.Core/A.html#e971168e3cfbf0bd" class="i property">RoleNames</a>) =&gt; <b>new</b> <span class="i">ArrayValue</span>(<span class="r38 r">user</span>.<span class="i">RoleNames</span>.<span class="i">Select</span>(<span id="r41 rd" class="r41 r">x</span> =&gt; <b>new</b> <span class="i">StringValue</span>(<span class="r41 r">x</span>))),
                        <b>nameof</b>(<a href="/OrchardCore.Users.Core/A.html#63066ddf792dff6e" class="t t">User</a>.<a href="/OrchardCore.Infrastructure.Abstractions/A.html#325b41c3935b5d79" class="i property">Properties</a>) =&gt; <b>new</b> <span class="i">ObjectValue</span>(<span class="r38 r">user</span>.<span class="i">Properties</span>),
                        <b>_</b> =&gt; <span class="i">NilValue</span>.<span class="i">Instance</span>
                    };
                });
            })
           .<a href="/OrchardCore.Liquid.Abstractions/A.html#a30788fe9ebeec96" class="i method">AddLiquidFilter</a>&lt;<a href="Liquid/UsersByIdFilter.cs.html#af6c55a2f6972ba8" class="t t">UsersByIdFilter</a>&gt;(<span class="s">&quot;users_by_id&quot;</span>)
           .<a href="/OrchardCore.Liquid.Abstractions/A.html#a30788fe9ebeec96" class="i method">AddLiquidFilter</a>&lt;<a href="Liquid/HasPermissionFilter.cs.html#57617ad5a85cecda" class="t t">HasPermissionFilter</a>&gt;(<span class="s">&quot;has_permission&quot;</span>)
           .<a href="/OrchardCore.Liquid.Abstractions/A.html#a30788fe9ebeec96" class="i method">AddLiquidFilter</a>&lt;<a href="Liquid/IsInRoleFilter.cs.html#1ffd6b085dd2463d" class="t t">IsInRoleFilter</a>&gt;(<span class="s">&quot;is_in_role&quot;</span>)
           .<a href="/OrchardCore.Liquid.Abstractions/A.html#a30788fe9ebeec96" class="i method">AddLiquidFilter</a>&lt;<a href="Liquid/UserEmailFilter.cs.html#5652a17f2e5edaae" class="t t">UserEmailFilter</a>&gt;(<span class="s">&quot;user_email&quot;</span>);
        }
    }
 
    [<span class="i">RequireFeatures</span>(<span class="s">&quot;OrchardCore.Deployment&quot;</span>)]
    <b>public class</b> <a id="8316beb3ccff49ab" href="R/8316beb3ccff49ab.html" target="n" data-glyph="0,0" class="t t"><span id="aa35dea7189be4f9">LoginDeploymentStartup</span></a> : <span class="i">StartupBase</span>
    {
        <b>public override void</b> <a id="30703ac2672c9662" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">ConfigureServices</a>(<span class="t t">IServiceCollection</span> <span id="r42 rd" class="r42 r">services</span>)
        {
            <span class="r42 r">services</span>.<span class="i">AddTransient</span>&lt;<span class="i">IDeploymentSource</span>, <a href="/OrchardCore.Settings.Core/A.html#0ee2a1a9575857be" class="t t">SiteSettingsPropertyDeploymentSource</a>&lt;<a href="Models/LoginSettings.cs.html#e3d53be2d2ccd8ed" class="t t">LoginSettings</a>&gt;&gt;();
            <span class="r42 r">services</span>.<span class="i">AddScoped</span>&lt;<a href="/OrchardCore.DisplayManagement/A.html#d771cc6d0ec6c783" class="t t">IDisplayDriver</a>&lt;<span class="i">DeploymentStep</span>&gt;&gt;(<span id="r43 rd" class="r43 r">sp</span> =&gt;
            {
                <b>var</b> <span id="r44 rd" class="r44 r">S</span> = <span class="r43 r">sp</span>.<span class="i method">GetService</span>&lt;<span class="t t">IStringLocalizer</span>&lt;<a href="#8316beb3ccff49ab" class="t t">LoginDeploymentStartup</a>&gt;&gt;();
                <b>return</b> <b>new</b> <a href="/OrchardCore.Settings.Core/A.html#d7f9de51d453e39b" class="t constructor">SiteSettingsPropertyDeploymentStepDriver</a>&lt;<a href="Models/LoginSettings.cs.html#e3d53be2d2ccd8ed" class="t t">LoginSettings</a>&gt;(<span class="r44 r">S</span>[<span class="s">&quot;Login settings&quot;</span>], <span class="r44 r">S</span>[<span class="s">&quot;Exports the Login settings.&quot;</span>]);
            });
            <span class="r42 r">services</span>.<span class="i">AddSingleton</span>&lt;<span class="i">IDeploymentStepFactory</span>&gt;(<b>new</b> <a href="/OrchardCore.Settings.Core/A.html#febf8feba113030a" class="t constructor">SiteSettingsPropertyDeploymentStepFactory</a>&lt;<a href="Models/LoginSettings.cs.html#e3d53be2d2ccd8ed" class="t t">LoginSettings</a>&gt;());
        }
    }
 
    [<span class="i">Feature</span>(<span class="s">&quot;OrchardCore.Users.ChangeEmail&quot;</span>)]
    <b>public class</b> <a id="caa999893fbb1993" href="R/../../0000000000.html" target="n" data-glyph="0,0" class="t t"><span id="b6373ade7cda561c">ChangeEmailStartup</span></a> : <span class="i">StartupBase</span>
    {
        <b>private const string</b> <a id="914a42eae2d56c48" href="R/914a42eae2d56c48.html" target="n" data-glyph="10,1" class="i field">ChangeEmailPath</a> = <span class="s">&quot;ChangeEmail&quot;</span>;
        <b>private const string</b> <a id="81e4a2b9d6dcc97b" href="R/81e4a2b9d6dcc97b.html" target="n" data-glyph="10,1" class="i field">ChangeEmailConfirmationPath</a> = <span class="s">&quot;ChangeEmailConfirmation&quot;</span>;
 
        <b>public override void</b> <a id="032e28b45ba8370d" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">Configure</a>(<span class="t t">IApplicationBuilder</span> <span id="r45 rd" class="r45 r">app</span>, <span class="t t">IEndpointRouteBuilder</span> <span id="r46 rd" class="r46 r">routes</span>, <span class="t t">IServiceProvider</span> <span id="r47 rd" class="r47 r">serviceProvider</span>)
        {
            <span class="r46 r">routes</span>.<span class="i method">MapAreaControllerRoute</span>(
                <span class="r8 r">name</span>: <span class="s">&quot;ChangeEmail&quot;</span>,
                <span class="r9 r">areaName</span>: <span class="s">&quot;OrchardCore.Users&quot;</span>,
                <span class="r10 r">pattern</span>: <a href="#914a42eae2d56c48" class="i field">ChangeEmailPath</a>,
                <span class="r11 r">defaults</span>: <b>new</b> { <a href="#1c8758d845f4a816" class="i property">controller</a> = <span class="s">&quot;ChangeEmail&quot;</span>, <a href="#4ce42354c8f69fc1" class="i property">action</a> = <span class="s">&quot;Index&quot;</span> }
            );
 
            <span class="r46 r">routes</span>.<span class="i method">MapAreaControllerRoute</span>(
                <span class="r8 r">name</span>: <span class="s">&quot;ChangeEmailConfirmation&quot;</span>,
                <span class="r9 r">areaName</span>: <span class="s">&quot;OrchardCore.Users&quot;</span>,
                <span class="r10 r">pattern</span>: <a href="#81e4a2b9d6dcc97b" class="i field">ChangeEmailConfirmationPath</a>,
                <span class="r11 r">defaults</span>: <b>new</b> { <a href="#1c8758d845f4a816" class="i property">controller</a> = <span class="s">&quot;ChangeEmail&quot;</span>, <a href="#4ce42354c8f69fc1" class="i property">action</a> = <span class="s">&quot;ChangeEmailConfirmation&quot;</span> }
            );
        }
 
        <b>public override void</b> <a id="22494b73d65b07df" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">ConfigureServices</a>(<span class="t t">IServiceCollection</span> <span id="r48 rd" class="r48 r">services</span>)
        {
            <span class="r48 r">services</span>.<span class="i method">Configure</span>&lt;<span class="i">TemplateOptions</span>&gt;(<span id="r49 rd" class="r49 r">o</span> =&gt;
            {
                <span class="r49 r">o</span>.<span class="i">MemberAccessStrategy</span>.<span class="i">Register</span>&lt;<a href="ViewModels/ChangeEmailViewModel.cs.html#e49f3fccbf69ae36" class="t t">ChangeEmailViewModel</a>&gt;();
            });
 
            <span class="r48 r">services</span>.<span class="i method">AddScoped</span>&lt;<a href="/OrchardCore.Navigation.Core/A.html#9919a71a2815e0c1" class="t t">INavigationProvider</a>, <a href="AdminMenu.cs.html#827a216246283a82" class="t t">ChangeEmailAdminMenu</a>&gt;();
            <span class="r48 r">services</span>.<span class="i method">AddScoped</span>&lt;<a href="/OrchardCore.DisplayManagement/A.html#d771cc6d0ec6c783" class="t t">IDisplayDriver</a>&lt;<a href="/OrchardCore.Infrastructure.Abstractions/A.html#e627b55b9075d808" class="t t">ISite</a>&gt;, <a href="Drivers/ChangeEmailSettingsDisplayDriver.cs.html#ad4c5c3b29c75a0b" class="t t">ChangeEmailSettingsDisplayDriver</a>&gt;();
        }
    }
 
    [<span class="i">Feature</span>(<span class="s">&quot;OrchardCore.Users.ChangeEmail&quot;</span>)]
    [<span class="i">RequireFeatures</span>(<span class="s">&quot;OrchardCore.Deployment&quot;</span>)]
    <b>public class</b> <a id="5fc748671458812a" href="R/5fc748671458812a.html" target="n" data-glyph="0,0" class="t t"><span id="3fd548ad7498062f">ChangeEmailDeploymentStartup</span></a> : <span class="i">StartupBase</span>
    {
        <b>public override void</b> <a id="cae51895d5d15278" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">ConfigureServices</a>(<span class="t t">IServiceCollection</span> <span id="r50 rd" class="r50 r">services</span>)
        {
            <span class="r50 r">services</span>.<span class="i">AddTransient</span>&lt;<span class="i">IDeploymentSource</span>, <a href="/OrchardCore.Settings.Core/A.html#0ee2a1a9575857be" class="t t">SiteSettingsPropertyDeploymentSource</a>&lt;<a href="Models/ChangeEmailSettings.cs.html#fc21c6470705a85b" class="t t">ChangeEmailSettings</a>&gt;&gt;();
            <span class="r50 r">services</span>.<span class="i">AddScoped</span>&lt;<a href="/OrchardCore.DisplayManagement/A.html#d771cc6d0ec6c783" class="t t">IDisplayDriver</a>&lt;<span class="i">DeploymentStep</span>&gt;&gt;(<span id="r51 rd" class="r51 r">sp</span> =&gt;
            {
                <b>var</b> <span id="r52 rd" class="r52 r">S</span> = <span class="r51 r">sp</span>.<span class="i method">GetService</span>&lt;<span class="t t">IStringLocalizer</span>&lt;<a href="#5fc748671458812a" class="t t">ChangeEmailDeploymentStartup</a>&gt;&gt;();
                <b>return</b> <b>new</b> <a href="/OrchardCore.Settings.Core/A.html#d7f9de51d453e39b" class="t constructor">SiteSettingsPropertyDeploymentStepDriver</a>&lt;<a href="Models/ChangeEmailSettings.cs.html#fc21c6470705a85b" class="t t">ChangeEmailSettings</a>&gt;(<span class="r52 r">S</span>[<span class="s">&quot;Change Email settings&quot;</span>], <span class="r52 r">S</span>[<span class="s">&quot;Exports the Change Email settings.&quot;</span>]);
            });
            <span class="r50 r">services</span>.<span class="i">AddSingleton</span>&lt;<span class="i">IDeploymentStepFactory</span>&gt;(<b>new</b> <a href="/OrchardCore.Settings.Core/A.html#febf8feba113030a" class="t constructor">SiteSettingsPropertyDeploymentStepFactory</a>&lt;<a href="Models/ChangeEmailSettings.cs.html#fc21c6470705a85b" class="t t">ChangeEmailSettings</a>&gt;());
        }
    }
 
    [<span class="i">Feature</span>(<span class="s">&quot;OrchardCore.Users.Registration&quot;</span>)]
    <b>public class</b> <a id="4283ab0cce50434e" href="R/../../0000000000.html" target="n" data-glyph="0,0" class="t t"><span id="3912cd8abcad9b02">RegistrationStartup</span></a> : <span class="i">StartupBase</span>
    {
        <b>private const string</b> <a id="7cbd63118d35462b" href="R/7cbd63118d35462b.html" target="n" data-glyph="10,1" class="i field">RegisterPath</a> = <span class="s">&quot;Register&quot;</span>;
 
        <b>public override void</b> <a id="aca30f8091e8e384" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">Configure</a>(<span class="t t">IApplicationBuilder</span> <span id="r53 rd" class="r53 r">app</span>, <span class="t t">IEndpointRouteBuilder</span> <span id="r54 rd" class="r54 r">routes</span>, <span class="t t">IServiceProvider</span> <span id="r55 rd" class="r55 r">serviceProvider</span>)
        {
            <span class="r54 r">routes</span>.<span class="i method">MapAreaControllerRoute</span>(
                <span class="r8 r">name</span>: <span class="s">&quot;Register&quot;</span>,
                <span class="r9 r">areaName</span>: <span class="s">&quot;OrchardCore.Users&quot;</span>,
                <span class="r10 r">pattern</span>: <a href="#7cbd63118d35462b" class="i field">RegisterPath</a>,
                <span class="r11 r">defaults</span>: <b>new</b> { <a href="#1c8758d845f4a816" class="i property">controller</a> = <span class="s">&quot;Registration&quot;</span>, <a href="#4ce42354c8f69fc1" class="i property">action</a> = <span class="s">&quot;Register&quot;</span> }
            );
        }
 
        <b>public override void</b> <a id="72735198c785fe25" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">ConfigureServices</a>(<span class="t t">IServiceCollection</span> <span id="r56 rd" class="r56 r">services</span>)
        {
            <span class="r56 r">services</span>.<span class="i method">Configure</span>&lt;<span class="i">TemplateOptions</span>&gt;(<span id="r57 rd" class="r57 r">o</span> =&gt;
            {
                <span class="r57 r">o</span>.<span class="i">MemberAccessStrategy</span>.<span class="i">Register</span>&lt;<a href="ViewModels/ConfirmEmailViewModel.cs.html#894ededcbe4b542c" class="t t">ConfirmEmailViewModel</a>&gt;();
            });
 
            <span class="r56 r">services</span>.<span class="i method">AddScoped</span>&lt;<a href="/OrchardCore.Navigation.Core/A.html#9919a71a2815e0c1" class="t t">INavigationProvider</a>, <a href="AdminMenu.cs.html#ad5d4d74f958931c" class="t t">RegistrationAdminMenu</a>&gt;();
            <span class="r56 r">services</span>.<span class="i method">AddScoped</span>&lt;<a href="/OrchardCore.DisplayManagement/A.html#d771cc6d0ec6c783" class="t t">IDisplayDriver</a>&lt;<a href="/OrchardCore.Infrastructure.Abstractions/A.html#e627b55b9075d808" class="t t">ISite</a>&gt;, <a href="Drivers/RegistrationSettingsDisplayDriver.cs.html#36c4af69e8ea9a96" class="t t">RegistrationSettingsDisplayDriver</a>&gt;();
        }
    }
 
    [<span class="i">Feature</span>(<span class="s">&quot;OrchardCore.Users.Registration&quot;</span>)]
    [<span class="i">RequireFeatures</span>(<span class="s">&quot;OrchardCore.Deployment&quot;</span>)]
    <b>public class</b> <a id="e24c41cfcec5943d" href="R/e24c41cfcec5943d.html" target="n" data-glyph="0,0" class="t t"><span id="40ebaa4109a2334b">RegistrationDeploymentStartup</span></a> : <span class="i">StartupBase</span>
    {
        <b>public override void</b> <a id="39ee7f4a56142807" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">ConfigureServices</a>(<span class="t t">IServiceCollection</span> <span id="r58 rd" class="r58 r">services</span>)
        {
            <span class="r58 r">services</span>.<span class="i">AddTransient</span>&lt;<span class="i">IDeploymentSource</span>, <a href="/OrchardCore.Settings.Core/A.html#0ee2a1a9575857be" class="t t">SiteSettingsPropertyDeploymentSource</a>&lt;<a href="Models/RegistrationSettings.cs.html#eef986e61603148a" class="t t">RegistrationSettings</a>&gt;&gt;();
            <span class="r58 r">services</span>.<span class="i">AddScoped</span>&lt;<a href="/OrchardCore.DisplayManagement/A.html#d771cc6d0ec6c783" class="t t">IDisplayDriver</a>&lt;<span class="i">DeploymentStep</span>&gt;&gt;(<span id="r59 rd" class="r59 r">sp</span> =&gt;
            {
                <b>var</b> <span id="r60 rd" class="r60 r">S</span> = <span class="r59 r">sp</span>.<span class="i method">GetService</span>&lt;<span class="t t">IStringLocalizer</span>&lt;<a href="#e24c41cfcec5943d" class="t t">RegistrationDeploymentStartup</a>&gt;&gt;();
                <b>return</b> <b>new</b> <a href="/OrchardCore.Settings.Core/A.html#d7f9de51d453e39b" class="t constructor">SiteSettingsPropertyDeploymentStepDriver</a>&lt;<a href="Models/RegistrationSettings.cs.html#eef986e61603148a" class="t t">RegistrationSettings</a>&gt;(<span class="r60 r">S</span>[<span class="s">&quot;Registration settings&quot;</span>], <span class="r60 r">S</span>[<span class="s">&quot;Exports the Registration settings.&quot;</span>]);
            });
            <span class="r58 r">services</span>.<span class="i">AddSingleton</span>&lt;<span class="i">IDeploymentStepFactory</span>&gt;(<b>new</b> <a href="/OrchardCore.Settings.Core/A.html#febf8feba113030a" class="t constructor">SiteSettingsPropertyDeploymentStepFactory</a>&lt;<a href="Models/RegistrationSettings.cs.html#eef986e61603148a" class="t t">RegistrationSettings</a>&gt;());
        }
    }
 
    [<span class="i">Feature</span>(<span class="s">&quot;OrchardCore.Users.ResetPassword&quot;</span>)]
    <b>public class</b> <a id="ad78ce06ac26f94b" href="R/../../0000000000.html" target="n" data-glyph="0,0" class="t t"><span id="fd092c6eb20cf2ce">ResetPasswordStartup</span></a> : <span class="i">StartupBase</span>
    {
        <b>private const string</b> <a id="426e2e85e06598d2" href="R/426e2e85e06598d2.html" target="n" data-glyph="10,1" class="i field">ForgotPasswordPath</a> = <span class="s">&quot;ForgotPassword&quot;</span>;
        <b>private const string</b> <a id="69960622c49c75b4" href="R/69960622c49c75b4.html" target="n" data-glyph="10,1" class="i field">ForgotPasswordConfirmationPath</a> = <span class="s">&quot;ForgotPasswordConfirmation&quot;</span>;
        <b>private const string</b> <a id="119cf9f46958ef74" href="R/119cf9f46958ef74.html" target="n" data-glyph="10,1" class="i field">ResetPasswordPath</a> = <span class="s">&quot;ResetPassword&quot;</span>;
        <b>private const string</b> <a id="496aee25c70b25a3" href="R/496aee25c70b25a3.html" target="n" data-glyph="10,1" class="i field">ResetPasswordConfirmationPath</a> = <span class="s">&quot;ResetPasswordConfirmation&quot;</span>;
 
        <b>public override void</b> <a id="32b6d2a377abf68a" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">Configure</a>(<span class="t t">IApplicationBuilder</span> <span id="r61 rd" class="r61 r">app</span>, <span class="t t">IEndpointRouteBuilder</span> <span id="r62 rd" class="r62 r">routes</span>, <span class="t t">IServiceProvider</span> <span id="r63 rd" class="r63 r">serviceProvider</span>)
        {
            <span class="r62 r">routes</span>.<span class="i method">MapAreaControllerRoute</span>(
                <span class="r8 r">name</span>: <span class="s">&quot;ForgotPassword&quot;</span>,
                <span class="r9 r">areaName</span>: <span class="s">&quot;OrchardCore.Users&quot;</span>,
                <span class="r10 r">pattern</span>: <a href="#426e2e85e06598d2" class="i field">ForgotPasswordPath</a>,
                <span class="r11 r">defaults</span>: <b>new</b> { <a href="#1c8758d845f4a816" class="i property">controller</a> = <span class="s">&quot;ResetPassword&quot;</span>, <a href="#4ce42354c8f69fc1" class="i property">action</a> = <span class="s">&quot;ForgotPassword&quot;</span> }
            );
            <span class="r62 r">routes</span>.<span class="i method">MapAreaControllerRoute</span>(
                <span class="r8 r">name</span>: <span class="s">&quot;ForgotPasswordConfirmation&quot;</span>,
                <span class="r9 r">areaName</span>: <span class="s">&quot;OrchardCore.Users&quot;</span>,
                <span class="r10 r">pattern</span>: <a href="#69960622c49c75b4" class="i field">ForgotPasswordConfirmationPath</a>,
                <span class="r11 r">defaults</span>: <b>new</b> { <a href="#1c8758d845f4a816" class="i property">controller</a> = <span class="s">&quot;ResetPassword&quot;</span>, <a href="#4ce42354c8f69fc1" class="i property">action</a> = <span class="s">&quot;ForgotPasswordConfirmation&quot;</span> }
            );
            <span class="r62 r">routes</span>.<span class="i method">MapAreaControllerRoute</span>(
                <span class="r8 r">name</span>: <span class="s">&quot;ResetPassword&quot;</span>,
                <span class="r9 r">areaName</span>: <span class="s">&quot;OrchardCore.Users&quot;</span>,
                <span class="r10 r">pattern</span>: <a href="#119cf9f46958ef74" class="i field">ResetPasswordPath</a>,
                <span class="r11 r">defaults</span>: <b>new</b> { <a href="#1c8758d845f4a816" class="i property">controller</a> = <span class="s">&quot;ResetPassword&quot;</span>, <a href="#4ce42354c8f69fc1" class="i property">action</a> = <span class="s">&quot;ResetPassword&quot;</span> }
            );
            <span class="r62 r">routes</span>.<span class="i method">MapAreaControllerRoute</span>(
                <span class="r8 r">name</span>: <span class="s">&quot;ResetPasswordConfirmation&quot;</span>,
                <span class="r9 r">areaName</span>: <span class="s">&quot;OrchardCore.Users&quot;</span>,
                <span class="r10 r">pattern</span>: <a href="#496aee25c70b25a3" class="i field">ResetPasswordConfirmationPath</a>,
                <span class="r11 r">defaults</span>: <b>new</b> { <a href="#1c8758d845f4a816" class="i property">controller</a> = <span class="s">&quot;ResetPassword&quot;</span>, <a href="#4ce42354c8f69fc1" class="i property">action</a> = <span class="s">&quot;ResetPasswordConfirmation&quot;</span> }
            );
        }
 
        <b>public override void</b> <a id="eb11bcc8dca31558" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">ConfigureServices</a>(<span class="t t">IServiceCollection</span> <span id="r64 rd" class="r64 r">services</span>)
        {
            <span class="r64 r">services</span>.<span class="i method">Configure</span>&lt;<span class="i">TemplateOptions</span>&gt;(<span id="r65 rd" class="r65 r">o</span> =&gt;
            {
                <span class="r65 r">o</span>.<span class="i">MemberAccessStrategy</span>.<span class="i">Register</span>&lt;<a href="ViewModels/LostPasswordViewModel.cs.html#a81864cfb90077e0" class="t t">LostPasswordViewModel</a>&gt;();
            });
 
            <span class="r64 r">services</span>.<span class="i method">AddScoped</span>&lt;<a href="/OrchardCore.Navigation.Core/A.html#9919a71a2815e0c1" class="t t">INavigationProvider</a>, <a href="AdminMenu.cs.html#19d06d25ddb45e55" class="t t">ResetPasswordAdminMenu</a>&gt;();
            <span class="r64 r">services</span>.<span class="i method">AddScoped</span>&lt;<a href="/OrchardCore.DisplayManagement/A.html#d771cc6d0ec6c783" class="t t">IDisplayDriver</a>&lt;<a href="/OrchardCore.Infrastructure.Abstractions/A.html#e627b55b9075d808" class="t t">ISite</a>&gt;, <a href="Drivers/ResetPasswordSettingsDisplayDriver.cs.html#261dfd5ec0b43459" class="t t">ResetPasswordSettingsDisplayDriver</a>&gt;();
        }
    }
 
    [<span class="i">Feature</span>(<span class="s">&quot;OrchardCore.Users.ResetPassword&quot;</span>)]
    [<span class="i">RequireFeatures</span>(<span class="s">&quot;OrchardCore.Deployment&quot;</span>)]
    <b>public class</b> <a id="03cbee890e6fe32c" href="R/03cbee890e6fe32c.html" target="n" data-glyph="0,0" class="t t"><span id="5a7b00e61f6ce727">ResetPasswordDeploymentStartup</span></a> : <span class="i">StartupBase</span>
    {
        <b>public override void</b> <a id="79790dca81f4a95e" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">ConfigureServices</a>(<span class="t t">IServiceCollection</span> <span id="r66 rd" class="r66 r">services</span>)
        {
            <span class="r66 r">services</span>.<span class="i">AddTransient</span>&lt;<span class="i">IDeploymentSource</span>, <a href="/OrchardCore.Settings.Core/A.html#0ee2a1a9575857be" class="t t">SiteSettingsPropertyDeploymentSource</a>&lt;<a href="Models/ResetPasswordSettings.cs.html#7cbec55ce5e3c39e" class="t t">ResetPasswordSettings</a>&gt;&gt;();
            <span class="r66 r">services</span>.<span class="i">AddScoped</span>&lt;<a href="/OrchardCore.DisplayManagement/A.html#d771cc6d0ec6c783" class="t t">IDisplayDriver</a>&lt;<span class="i">DeploymentStep</span>&gt;&gt;(<span id="r67 rd" class="r67 r">sp</span> =&gt;
            {
                <b>var</b> <span id="r68 rd" class="r68 r">S</span> = <span class="r67 r">sp</span>.<span class="i method">GetService</span>&lt;<span class="t t">IStringLocalizer</span>&lt;<a href="#03cbee890e6fe32c" class="t t">ResetPasswordDeploymentStartup</a>&gt;&gt;();
                <b>return</b> <b>new</b> <a href="/OrchardCore.Settings.Core/A.html#d7f9de51d453e39b" class="t constructor">SiteSettingsPropertyDeploymentStepDriver</a>&lt;<a href="Models/ResetPasswordSettings.cs.html#7cbec55ce5e3c39e" class="t t">ResetPasswordSettings</a>&gt;(<span class="r68 r">S</span>[<span class="s">&quot;Reset Password settings&quot;</span>], <span class="r68 r">S</span>[<span class="s">&quot;Exports the Reset Password settings.&quot;</span>]);
            });
            <span class="r66 r">services</span>.<span class="i">AddSingleton</span>&lt;<span class="i">IDeploymentStepFactory</span>&gt;(<b>new</b> <a href="/OrchardCore.Settings.Core/A.html#febf8feba113030a" class="t constructor">SiteSettingsPropertyDeploymentStepFactory</a>&lt;<a href="Models/ResetPasswordSettings.cs.html#7cbec55ce5e3c39e" class="t t">ResetPasswordSettings</a>&gt;());
        }
    }
 
    [<span class="i">Feature</span>(<span class="s">&quot;OrchardCore.Users.CustomUserSettings&quot;</span>)]
    <b>public class</b> <a id="c629a0bedf9c62bd" href="R/../../0000000000.html" target="n" data-glyph="0,0" class="t t"><span id="02386cc7d6822380">CustomUserSettingsStartup</span></a> : <span class="i">StartupBase</span>
    {
        <b>public override void</b> <a id="68e89b9581264c66" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">ConfigureServices</a>(<span class="t t">IServiceCollection</span> <span id="r69 rd" class="r69 r">services</span>)
        {
            <span class="r69 r">services</span>.<span class="i method">AddScoped</span>&lt;<a href="/OrchardCore.DisplayManagement/A.html#d771cc6d0ec6c783" class="t t">IDisplayDriver</a>&lt;<a href="/OrchardCore.Users.Core/A.html#63066ddf792dff6e" class="t t">User</a>&gt;, <a href="Drivers/CustomUserSettingsDisplayDriver.cs.html#49bcaf51a7df2321" class="t t">CustomUserSettingsDisplayDriver</a>&gt;();
            <span class="r69 r">services</span>.<span class="i method">AddScoped</span>&lt;<a href="/OrchardCore.Infrastructure.Abstractions/A.html#a9d2914fb13fa8df" class="t t">IPermissionProvider</a>, <a href="CustomUserSettingsPermissions.cs.html#9a93c7177a809a60" class="t t">CustomUserSettingsPermissions</a>&gt;();
        }
    }
}
</pre></td></tr></table></div></body></html>
