<!DOCTYPE html>
<html><head><title>DefaultPluralRuleProvider.cs</title><link rel="stylesheet" href="../styles.css"><script src="../scripts.js"></script></head>
<body class="cB" onload="i(80);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#OrchardCore.Localization.Core/DefaultPluralRuleProvider.cs" target="_top">DefaultPluralRuleProvider.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#OrchardCore.Localization.Core" target="_top">src\OrchardCore\OrchardCore.Localization.Core\OrchardCore.Localization.Core.csproj</a> (OrchardCore.Localization.Core)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<b>using</b> <span class="i n">System</span>.<span class="i n">Collections</span>.<span class="i n">Generic</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Globalization</span>;
 
<b>namespace</b> <span class="i n">OrchardCore</span>.<span class="i n">Localization</span>
{
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c"> Provides pluralization rules based on the Unicode Common Locale Data Repository.</span>
    <span class="c">///</span><span class="c"> c.f. http://www.unicode.org/cldr/charts/latest/supplemental/language_plural_rules.html</span>
    <span class="c">///</span><span class="c"> c.f. https://github.com/unicode-org/cldr/blob/master/common/supplemental/plurals.xml</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
    <b>public class</b> <a id="e89437c0b456dd0e" href="R/e89437c0b456dd0e.html" target="n" data-glyph="0,0" class="t t"><span id="8a6276bf47eaac98">DefaultPluralRuleProvider</span></a> : <a href="/OrchardCore.Localization.Abstractions/A.html#93d0a629ca65489d" class="t t">IPluralRuleProvider</a>
    {
        <b>private static</b> <span class="t t">Dictionary</span>&lt;<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>, <a href="/OrchardCore.Localization.Abstractions/A.html#c63b51fefb67d06f" class="t t">PluralizationRuleDelegate</a>&gt; <a id="ef394174f15f33d4" href="R/ef394174f15f33d4.html" target="n" data-glyph="46,1" class="i field">Rules</a>;
 
        <b>static</b> <a id="196499072f2772db" href="R/../../0000000000.html" target="n" data-glyph="76,1" class="t method">DefaultPluralRuleProvider</a>()
        {
            <a href="#ef394174f15f33d4" class="i field">Rules</a> = <b>new</b> <span class="t constructor">Dictionary</span>&lt;<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>, <a href="/OrchardCore.Localization.Abstractions/A.html#c63b51fefb67d06f" class="t t">PluralizationRuleDelegate</a>&gt;();
 
            <a href="#b9900c0a1126631c" class="i method">AddRule</a>(<b>new</b>[] { <span class="s">&quot;ay&quot;</span>, <span class="s">&quot;bo&quot;</span>, <span class="s">&quot;cgg&quot;</span>, <span class="s">&quot;dz&quot;</span>, <span class="s">&quot;fa&quot;</span>, <span class="s">&quot;id&quot;</span>, <span class="s">&quot;ja&quot;</span>, <span class="s">&quot;jbo&quot;</span>, <span class="s">&quot;ka&quot;</span>, <span class="s">&quot;kk&quot;</span>, <span class="s">&quot;km&quot;</span>, <span class="s">&quot;ko&quot;</span>, <span class="s">&quot;ky&quot;</span>, <span class="s">&quot;lo&quot;</span>, <span class="s">&quot;ms&quot;</span>, <span class="s">&quot;my&quot;</span>, <span class="s">&quot;sah&quot;</span>, <span class="s">&quot;su&quot;</span>, <span class="s">&quot;th&quot;</span>, <span class="s">&quot;tt&quot;</span>, <span class="s">&quot;ug&quot;</span>, <span class="s">&quot;vi&quot;</span>, <span class="s">&quot;wo&quot;</span>, <span class="s">&quot;zh&quot;</span> }, <span id="r0 rd" class="r0 r">n</span> =&gt; 0);
            <a href="#b9900c0a1126631c" class="i method">AddRule</a>(<b>new</b>[] { <span class="s">&quot;ach&quot;</span>, <span class="s">&quot;ak&quot;</span>, <span class="s">&quot;am&quot;</span>, <span class="s">&quot;arn&quot;</span>, <span class="s">&quot;br&quot;</span>, <span class="s">&quot;fil&quot;</span>, <span class="s">&quot;fr&quot;</span>, <span class="s">&quot;gun&quot;</span>, <span class="s">&quot;ln&quot;</span>, <span class="s">&quot;mfe&quot;</span>, <span class="s">&quot;mg&quot;</span>, <span class="s">&quot;mi&quot;</span>, <span class="s">&quot;oc&quot;</span>, <span class="s">&quot;pt-BR&quot;</span>, <span class="s">&quot;tg&quot;</span>, <span class="s">&quot;ti&quot;</span>, <span class="s">&quot;tr&quot;</span>, <span class="s">&quot;uz&quot;</span>, <span class="s">&quot;wa&quot;</span> }, <span id="r1 rd" class="r1 r">n</span> =&gt; (<span class="r1 r">n</span> &gt; 1 ? 1 : 0));
            <a href="#b9900c0a1126631c" class="i method">AddRule</a>(<b>new</b>[] { <span class="s">&quot;af&quot;</span>, <span class="s">&quot;an&quot;</span>, <span class="s">&quot;anp&quot;</span>, <span class="s">&quot;as&quot;</span>, <span class="s">&quot;ast&quot;</span>, <span class="s">&quot;az&quot;</span>, <span class="s">&quot;bg&quot;</span>, <span class="s">&quot;bn&quot;</span>, <span class="s">&quot;brx&quot;</span>, <span class="s">&quot;ca&quot;</span>, <span class="s">&quot;da&quot;</span>, <span class="s">&quot;de&quot;</span>, <span class="s">&quot;doi&quot;</span>, <span class="s">&quot;el&quot;</span>, <span class="s">&quot;en&quot;</span>, <span class="s">&quot;eo&quot;</span>, <span class="s">&quot;es&quot;</span>, <span class="s">&quot;es-AR&quot;</span>, <span class="s">&quot;et&quot;</span>, <span class="s">&quot;eu&quot;</span>, <span class="s">&quot;ff&quot;</span>, <span class="s">&quot;fi&quot;</span>, <span class="s">&quot;fo&quot;</span>, <span class="s">&quot;fur&quot;</span>, <span class="s">&quot;fy&quot;</span>, <span class="s">&quot;gl&quot;</span>, <span class="s">&quot;gu&quot;</span>, <span class="s">&quot;ha&quot;</span>, <span class="s">&quot;he&quot;</span>, <span class="s">&quot;hi&quot;</span>, <span class="s">&quot;hne&quot;</span>, <span class="s">&quot;hu&quot;</span>, <span class="s">&quot;hy&quot;</span>, <span class="s">&quot;ia&quot;</span>, <span class="s">&quot;it&quot;</span>, <span class="s">&quot;kl&quot;</span>, <span class="s">&quot;kn&quot;</span>, <span class="s">&quot;ku&quot;</span>, <span class="s">&quot;lb&quot;</span>, <span class="s">&quot;mai&quot;</span>, <span class="s">&quot;ml&quot;</span>, <span class="s">&quot;mn&quot;</span>, <span class="s">&quot;mni&quot;</span>, <span class="s">&quot;mr&quot;</span>, <span class="s">&quot;nah&quot;</span>, <span class="s">&quot;nap&quot;</span>, <span class="s">&quot;nb&quot;</span>, <span class="s">&quot;ne&quot;</span>, <span class="s">&quot;nl&quot;</span>, <span class="s">&quot;nn&quot;</span>, <span class="s">&quot;no&quot;</span>, <span class="s">&quot;nso&quot;</span>, <span class="s">&quot;or&quot;</span>, <span class="s">&quot;pa&quot;</span>, <span class="s">&quot;pap&quot;</span>, <span class="s">&quot;pms&quot;</span>, <span class="s">&quot;ps&quot;</span>, <span class="s">&quot;pt&quot;</span>, <span class="s">&quot;rm&quot;</span>, <span class="s">&quot;rw&quot;</span>, <span class="s">&quot;sat&quot;</span>, <span class="s">&quot;sco&quot;</span>, <span class="s">&quot;sd&quot;</span>, <span class="s">&quot;se&quot;</span>, <span class="s">&quot;si&quot;</span>, <span class="s">&quot;so&quot;</span>, <span class="s">&quot;son&quot;</span>, <span class="s">&quot;sq&quot;</span>, <span class="s">&quot;sv&quot;</span>, <span class="s">&quot;sw&quot;</span>, <span class="s">&quot;ta&quot;</span>, <span class="s">&quot;te&quot;</span>, <span class="s">&quot;tk&quot;</span>, <span class="s">&quot;ur&quot;</span>, <span class="s">&quot;yo&quot;</span> }, <span id="r2 rd" class="r2 r">n</span> =&gt; (<span class="r2 r">n</span> != 1 ? 1 : 0));
            <a href="#b9900c0a1126631c" class="i method">AddRule</a>(<b>new</b>[] { <span class="s">&quot;is&quot;</span> }, <span id="r3 rd" class="r3 r">n</span> =&gt; (<span class="r3 r">n</span> % 10 != 1 || <span class="r3 r">n</span> % 100 == 11 ? 1 : 0));
            <a href="#b9900c0a1126631c" class="i method">AddRule</a>(<b>new</b>[] { <span class="s">&quot;jv&quot;</span> }, <span id="r4 rd" class="r4 r">n</span> =&gt; (<span class="r4 r">n</span> != 0 ? 1 : 0));
            <a href="#b9900c0a1126631c" class="i method">AddRule</a>(<b>new</b>[] { <span class="s">&quot;mk&quot;</span> }, <span id="r5 rd" class="r5 r">n</span> =&gt; (<span class="r5 r">n</span> == 1 || <span class="r5 r">n</span> % 10 == 1 ? 0 : 1));
            <a href="#b9900c0a1126631c" class="i method">AddRule</a>(<b>new</b>[] { <span class="s">&quot;be&quot;</span>, <span class="s">&quot;bs&quot;</span>, <span class="s">&quot;hr&quot;</span>, <span class="s">&quot;lt&quot;</span> }, <span id="r6 rd" class="r6 r">n</span> =&gt; (<span class="r6 r">n</span> % 10 == 1 &amp;&amp; <span class="r6 r">n</span> % 100 != 11 ? 0 : <span class="r6 r">n</span> % 10 &gt;= 2 &amp;&amp; <span class="r6 r">n</span> % 10 &lt;= 4 &amp;&amp; (<span class="r6 r">n</span> % 100 &lt; 10 || <span class="r6 r">n</span> % 100 &gt;= 20) ? 1 : 2));
            <a href="#b9900c0a1126631c" class="i method">AddRule</a>(<b>new</b>[] { <span class="s">&quot;cs&quot;</span> }, <span id="r7 rd" class="r7 r">n</span> =&gt; ((<span class="r7 r">n</span> == 1) ? 0 : (<span class="r7 r">n</span> &gt;= 2 &amp;&amp; <span class="r7 r">n</span> &lt;= 4) ? 1 : 2));
            <a href="#b9900c0a1126631c" class="i method">AddRule</a>(<b>new</b>[] { <span class="s">&quot;csb&quot;</span>, <span class="s">&quot;pl&quot;</span> }, <span id="r8 rd" class="r8 r">n</span> =&gt; ((<span class="r8 r">n</span> == 1) ? 0 : <span class="r8 r">n</span> % 10 &gt;= 2 &amp;&amp; <span class="r8 r">n</span> % 10 &lt;= 4 &amp;&amp; (<span class="r8 r">n</span> % 100 &lt; 10 || <span class="r8 r">n</span> % 100 &gt;= 20) ? 1 : 2));
            <a href="#b9900c0a1126631c" class="i method">AddRule</a>(<b>new</b>[] { <span class="s">&quot;lv&quot;</span> }, <span id="r9 rd" class="r9 r">n</span> =&gt; (<span class="r9 r">n</span> % 10 == 1 &amp;&amp; <span class="r9 r">n</span> % 100 != 11 ? 0 : <span class="r9 r">n</span> != 0 ? 1 : 2));
            <a href="#b9900c0a1126631c" class="i method">AddRule</a>(<b>new</b>[] { <span class="s">&quot;mnk&quot;</span> }, <span id="r10 rd" class="r10 r">n</span> =&gt; (<span class="r10 r">n</span> == 0 ? 0 : <span class="r10 r">n</span> == 1 ? 1 : 2));
            <a href="#b9900c0a1126631c" class="i method">AddRule</a>(<b>new</b>[] { <span class="s">&quot;ro&quot;</span> }, <span id="r11 rd" class="r11 r">n</span> =&gt; (<span class="r11 r">n</span> == 1 ? 0 : (<span class="r11 r">n</span> == 0 || (<span class="r11 r">n</span> % 100 &gt; 0 &amp;&amp; <span class="r11 r">n</span> % 100 &lt; 20)) ? 1 : 2));
            <a href="#b9900c0a1126631c" class="i method">AddRule</a>(<b>new</b>[] { <span class="s">&quot;cy&quot;</span> }, <span id="r12 rd" class="r12 r">n</span> =&gt; ((<span class="r12 r">n</span> == 1) ? 0 : (<span class="r12 r">n</span> == 2) ? 1 : (<span class="r12 r">n</span> != 8 &amp;&amp; <span class="r12 r">n</span> != 11) ? 2 : 3));
            <a href="#b9900c0a1126631c" class="i method">AddRule</a>(<b>new</b>[] { <span class="s">&quot;gd&quot;</span> }, <span id="r13 rd" class="r13 r">n</span> =&gt; ((<span class="r13 r">n</span> == 1 || <span class="r13 r">n</span> == 11) ? 0 : (<span class="r13 r">n</span> == 2 || <span class="r13 r">n</span> == 12) ? 1 : (<span class="r13 r">n</span> &gt; 2 &amp;&amp; <span class="r13 r">n</span> &lt; 20) ? 2 : 3));
            <a href="#b9900c0a1126631c" class="i method">AddRule</a>(<b>new</b>[] { <span class="s">&quot;kw&quot;</span> }, <span id="r14 rd" class="r14 r">n</span> =&gt; ((<span class="r14 r">n</span> == 1) ? 0 : (<span class="r14 r">n</span> == 2) ? 1 : (<span class="r14 r">n</span> == 3) ? 2 : 3));
            <a href="#b9900c0a1126631c" class="i method">AddRule</a>(<b>new</b>[] { <span class="s">&quot;mt&quot;</span> }, <span id="r15 rd" class="r15 r">n</span> =&gt; (<span class="r15 r">n</span> == 1 ? 0 : <span class="r15 r">n</span> == 0 || (<span class="r15 r">n</span> % 100 &gt; 1 &amp;&amp; <span class="r15 r">n</span> % 100 &lt; 11) ? 1 : (<span class="r15 r">n</span> % 100 &gt; 10 &amp;&amp; <span class="r15 r">n</span> % 100 &lt; 20) ? 2 : 3));
            <a href="#b9900c0a1126631c" class="i method">AddRule</a>(<b>new</b>[] { <span class="s">&quot;sl&quot;</span> }, <span id="r16 rd" class="r16 r">n</span> =&gt; (<span class="r16 r">n</span> % 100 == 1 ? 1 : <span class="r16 r">n</span> % 100 == 2 ? 2 : <span class="r16 r">n</span> % 100 == 3 || <span class="r16 r">n</span> % 100 == 4 ? 3 : 0));
            <a href="#b9900c0a1126631c" class="i method">AddRule</a>(<b>new</b>[] { <span class="s">&quot;ru&quot;</span>, <span class="s">&quot;sr&quot;</span>, <span class="s">&quot;uk&quot;</span> }, <span id="r17 rd" class="r17 r">n</span> =&gt; (<span class="r17 r">n</span> % 10 == 1 &amp;&amp; <span class="r17 r">n</span> % 100 != 11 ? 0 : <span class="r17 r">n</span> % 10 &gt;= 2 &amp;&amp; <span class="r17 r">n</span> % 10 &lt;= 4 &amp;&amp; (<span class="r17 r">n</span> % 100 &lt; 10 || <span class="r17 r">n</span> % 100 &gt;= 20) ? 1 : 2));
            <a href="#b9900c0a1126631c" class="i method">AddRule</a>(<b>new</b>[] { <span class="s">&quot;sk&quot;</span> }, <span id="r18 rd" class="r18 r">n</span> =&gt; ((<span class="r18 r">n</span> == 1) ? 0 : (<span class="r18 r">n</span> &gt;= 2 &amp;&amp; <span class="r18 r">n</span> &lt;= 4) ? 1 : 2));
            <a href="#b9900c0a1126631c" class="i method">AddRule</a>(<b>new</b>[] { <span class="s">&quot;ga&quot;</span> }, <span id="r19 rd" class="r19 r">n</span> =&gt; (<span class="r19 r">n</span> == 1 ? 0 : <span class="r19 r">n</span> == 2 ? 1 : (<span class="r19 r">n</span> &gt; 2 &amp;&amp; <span class="r19 r">n</span> &lt; 7) ? 2 : (<span class="r19 r">n</span> &gt; 6 &amp;&amp; <span class="r19 r">n</span> &lt; 11) ? 3 : 4));
            <a href="#b9900c0a1126631c" class="i method">AddRule</a>(<b>new</b>[] { <span class="s">&quot;ar&quot;</span> }, <span id="r20 rd" class="r20 r">n</span> =&gt; (<span class="r20 r">n</span> == 0 ? 0 : <span class="r20 r">n</span> == 1 ? 1 : <span class="r20 r">n</span> == 2 ? 2 : <span class="r20 r">n</span> % 100 &gt;= 3 &amp;&amp; <span class="r20 r">n</span> % 100 &lt;= 10 ? 3 : <span class="r20 r">n</span> % 100 &gt;= 11 ? 4 : 5));
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">inheritdocs</span> <span class="c">/&gt;</span>
        <b>public int</b> <a id="9e7ee07ff78a4a1d" href="R/9e7ee07ff78a4a1d.html" target="n" data-glyph="102,1" class="i property">Order</a> =&gt; 0;
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">inheritdocs</span> <span class="c">/&gt;</span>
        <b>public bool</b> <a id="dbeda727d8abdf9d" href="R/dbeda727d8abdf9d.html" target="n" data-glyph="72,1" class="i method">TryGetRule</a>(<a href="@1@System.Runtime/A.html#e319c6636909012f" class="t t">CultureInfo</a> <span id="r21 rd" class="r21 r">culture</span>, <b>out</b> <a href="/OrchardCore.Localization.Abstractions/A.html#c63b51fefb67d06f" class="t t">PluralizationRuleDelegate</a> <span id="r22 rd" class="r22 r">rule</span>)
        {
            <a href="@1@System.Runtime/A.html#e319c6636909012f" class="k">var</a> <span id="r23 rd" class="r23 r">cultureForPlural</span> = <a href="#b9c637e829c8d02a" class="i method">GetBaseCulture</a>(<span class="r21 r">culture</span>);
 
            <b>if</b> (<a href="#ef394174f15f33d4" class="i field">Rules</a>.<span class="i method">TryGetValue</span>(<span class="r23 r">cultureForPlural</span>.<a href="@1@System.Runtime/A.html#a99dfd86b8014a4a" class="i property">Name</a>, <b>out</b> <span class="r22 r">rule</span>))
            {
                <b>return</b> <b>true</b>;
            }
 
            <b>return</b> <b>false</b>;
        }
 
        <b>private static void</b> <a id="b9900c0a1126631c" href="R/b9900c0a1126631c.html" target="n" data-glyph="76,1" class="i method">AddRule</a>(<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>[] <span id="r24 rd" class="r24 r">cultures</span>, <a href="/OrchardCore.Localization.Abstractions/A.html#c63b51fefb67d06f" class="t t">PluralizationRuleDelegate</a> <span id="r25 rd" class="r25 r">rule</span>)
        {
            <b>foreach</b> (<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r26 rd" class="r26 r">culture</span> <b>in</b> <span class="r24 r">cultures</span>)
            {
                <a href="#ef394174f15f33d4" class="i field">Rules</a>.<span class="i method">Add</span>(<span class="r26 r">culture</span>, <span class="r25 r">rule</span>);
            }
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">example</span><span class="c">&gt;</span><span class="c">zh-Hans-CN -&gt; zh-Hans -&gt; zh</span><span class="c">&lt;/</span><span class="c">example</span><span class="c">&gt;</span>
        <b>private</b> <a href="@1@System.Runtime/A.html#e319c6636909012f" class="t t">CultureInfo</a> <a id="b9c637e829c8d02a" href="R/b9c637e829c8d02a.html" target="n" data-glyph="76,1" class="i method">GetBaseCulture</a>(<a href="@1@System.Runtime/A.html#e319c6636909012f" class="t t">CultureInfo</a> <span id="r27 rd" class="r27 r">culture</span>)
        {
            <a href="@1@System.Runtime/A.html#e319c6636909012f" class="k">var</a> <span id="r28 rd" class="r28 r">returnCulture</span> = <span class="r27 r">culture</span>;
 
            <b>while</b> (<span class="r28 r">returnCulture</span>.<a href="@1@System.Runtime/A.html#ffa6abd30a02fd12" class="i property">Parent</a>.<a href="@1@System.Runtime/A.html#a99dfd86b8014a4a" class="i property">Name</a> != <span class="s">&quot;&quot;</span>) <span class="c">// Stop at Invariant culture</span>
            {
                <span class="r28 r">returnCulture</span> = <span class="r28 r">returnCulture</span>.<a href="@1@System.Runtime/A.html#ffa6abd30a02fd12" class="i property">Parent</a>;
            }
 
            <b>return</b> <span class="r28 r">returnCulture</span>;
        }
    }
}
</pre></td></tr></table></div></body></html>
