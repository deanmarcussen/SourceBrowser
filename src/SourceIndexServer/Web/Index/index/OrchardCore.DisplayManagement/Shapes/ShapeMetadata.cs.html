<!DOCTYPE html>
<html><head><title>ShapeMetadata.cs</title><link rel="stylesheet" href="../../styles.css"><script src="../../scripts.js"></script></head>
<body class="cB" onload="i(99);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#OrchardCore.DisplayManagement/Shapes/ShapeMetadata.cs" target="_top">Shapes\ShapeMetadata.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#OrchardCore.DisplayManagement" target="_top">src\OrchardCore\OrchardCore.DisplayManagement\OrchardCore.DisplayManagement.csproj</a> (OrchardCore.DisplayManagement)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Collections</span>.<span class="i n">Generic</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Linq</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Threading</span>.<span class="i n">Tasks</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">AspNetCore</span>.<span class="i n">Html</span>;
<b>using</b> <span class="i">Newtonsoft</span>.<span class="i">Json</span>;
<b>using</b> <span class="i n">OrchardCore</span>.<span class="i n">DisplayManagement</span>.<span class="i n">Implementation</span>;
<b>using</b> <span class="i n">OrchardCore</span>.<span class="i n">Environment</span>.<span class="i n">Cache</span>;
 
<b>namespace</b> <span class="i n">OrchardCore</span>.<span class="i n">DisplayManagement</span>.<span class="i n">Shapes</span>
{
    <b>public class</b> <a id="65f6f514c36f37a2" href="../R/65f6f514c36f37a2.html" target="n" data-glyph="0,0" class="t t">ShapeMetadata</a>
    {
        <b>private</b> <a href="/OrchardCore.Infrastructure.Abstractions/A.html#ac2fe3ab5208377e" class="t t">CacheContext</a> <a id="7b7b82713a5addce" href="../R/7b7b82713a5addce.html" target="n" data-glyph="46,1" class="i field">_cacheContext</a>;
 
        <b>public</b> <a id="8b24797810032d5f" href="../R/8b24797810032d5f.html" target="n" data-glyph="72,1" class="t constructor">ShapeMetadata</a>()
        {
            <a href="#6ffe6442b8f12f40" class="i property">Wrappers</a> = <b>new</b> <a href="AlternatesCollection.cs.html#57291ca7c7610ed5" class="t constructor">AlternatesCollection</a>();
            <a href="#bb3fc0d71dd8679e" class="i property">Alternates</a> = <b>new</b> <a href="AlternatesCollection.cs.html#57291ca7c7610ed5" class="t constructor">AlternatesCollection</a>();
            <a href="#ead014c67de0137b" class="i property">BindingSources</a> = <b>new</b> <span class="t constructor">List</span>&lt;<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>&gt;();
            <a href="#70d3c6d095c172f0" class="i property">Displaying</a> = <span class="t t">Enumerable</span>.<span class="i method">Empty</span>&lt;<a href="@1@System.Runtime/A.html#486d58da4553e12d" class="t t">Action</a>&lt;<a href="../Implementation/ShapeDisplayContext.cs.html#0fe1137e8e1878e1" class="t t">ShapeDisplayContext</a>&gt;&gt;();
            <a href="#a9e53b0509653d15" class="i property">Displayed</a> = <span class="t t">Enumerable</span>.<span class="i method">Empty</span>&lt;<a href="@1@System.Runtime/A.html#486d58da4553e12d" class="t t">Action</a>&lt;<a href="../Implementation/ShapeDisplayContext.cs.html#0fe1137e8e1878e1" class="t t">ShapeDisplayContext</a>&gt;&gt;();
            <a href="#a04fdc17aa0e8e7d" class="i property">ProcessingAsync</a> = <span class="t t">Enumerable</span>.<span class="i method">Empty</span>&lt;<a href="@1@System.Runtime/A.html#7a86aba051da82dd" class="t t">Func</a>&lt;<b>dynamic</b>, <a href="@1@System.Runtime/A.html#045a746eb48cbaa9" class="t t">Task</a>&gt;&gt;();
        }
 
        <b>public string</b> <a id="75eacf8c582a4ce1" href="../R/75eacf8c582a4ce1.html" target="n" data-glyph="102,1" class="i property">Type</a> { <b>get</b>; <b>set</b>; }
        <b>public string</b> <a id="7cd0e688e269d1a2" href="../R/7cd0e688e269d1a2.html" target="n" data-glyph="102,1" class="i property">DisplayType</a> { <b>get</b>; <b>set</b>; }
        <b>public string</b> <a id="6594626ab983a3f9" href="../R/6594626ab983a3f9.html" target="n" data-glyph="102,1" class="i property">Position</a> { <b>get</b>; <b>set</b>; }
        <b>public string</b> <a id="1d5b16539e2f6a16" href="../R/1d5b16539e2f6a16.html" target="n" data-glyph="102,1" class="i property">Tab</a> { <b>get</b>; <b>set</b>; }
        <b>public string</b> <a id="0ae54e3fe440385c" href="../R/0ae54e3fe440385c.html" target="n" data-glyph="102,1" class="i property">Card</a> { <b>get</b>; <b>set</b>; }
        <b>public string</b> <a id="b150121a0c0b99d4" href="../R/b150121a0c0b99d4.html" target="n" data-glyph="102,1" class="i property">Column</a> { <b>get</b>; <b>set</b>; }
        <b>public string</b> <a id="f40aa6e287dc38cb" href="../R/f40aa6e287dc38cb.html" target="n" data-glyph="102,1" class="i property">PlacementSource</a> { <b>get</b>; <b>set</b>; }
        <b>public string</b> <a id="61cfff60a3572c16" href="../R/61cfff60a3572c16.html" target="n" data-glyph="102,1" class="i property">Prefix</a> { <b>get</b>; <b>set</b>; }
        <b>public string</b> <a id="f8e09c59da8b1ef5" href="../R/f8e09c59da8b1ef5.html" target="n" data-glyph="102,1" class="i property">Name</a> { <b>get</b>; <b>set</b>; }
        <b>public string</b> <a id="4f9261b78ef12feb" href="../R/4f9261b78ef12feb.html" target="n" data-glyph="102,1" class="i property">Differentiator</a> { <b>get</b>; <b>set</b>; }
        <b>public</b> <a href="AlternatesCollection.cs.html#ba81b9c643a150ed" class="t t">AlternatesCollection</a> <a id="6ffe6442b8f12f40" href="../R/6ffe6442b8f12f40.html" target="n" data-glyph="102,1" class="i property">Wrappers</a> { <b>get</b>; <b>set</b>; }
        <b>public</b> <a href="AlternatesCollection.cs.html#ba81b9c643a150ed" class="t t">AlternatesCollection</a> <a id="bb3fc0d71dd8679e" href="../R/bb3fc0d71dd8679e.html" target="n" data-glyph="102,1" class="i property">Alternates</a> { <b>get</b>; <b>set</b>; }
        <b>public bool</b> <a id="340bc14e14f4115a" href="../R/340bc14e14f4115a.html" target="n" data-glyph="102,1" class="i property">IsCached</a> =&gt; <a href="#7b7b82713a5addce" class="i field">_cacheContext</a> != <b>null</b>;
        <b>public</b> <span class="t t">IHtmlContent</span> <a id="163b81cdc51f12a5" href="../R/163b81cdc51f12a5.html" target="n" data-glyph="102,1" class="i property">ChildContent</a> { <b>get</b>; <b>set</b>; }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Event use for a specific shape instance.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="i">JsonIgnore</span>]
        <b>public</b> <a href="@1@System.Runtime/A.html#3acf01620172c7f0" class="t t">IEnumerable</a>&lt;<a href="@1@System.Runtime/A.html#486d58da4553e12d" class="t t">Action</a>&lt;<a href="../Implementation/ShapeDisplayContext.cs.html#0fe1137e8e1878e1" class="t t">ShapeDisplayContext</a>&gt;&gt; <a id="70d3c6d095c172f0" href="../R/70d3c6d095c172f0.html" target="n" data-glyph="102,1" class="i property">Displaying</a> { <b>get</b>; <b>private set</b>; }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Event use for a specific shape instance.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="i">JsonIgnore</span>]
        <b>public</b> <a href="@1@System.Runtime/A.html#3acf01620172c7f0" class="t t">IEnumerable</a>&lt;<a href="@1@System.Runtime/A.html#7a86aba051da82dd" class="t t">Func</a>&lt;<a href="../IShape.cs.html#1b6ae4719962ce25" class="t t">IShape</a>, <a href="@1@System.Runtime/A.html#045a746eb48cbaa9" class="t t">Task</a>&gt;&gt; <a id="a04fdc17aa0e8e7d" href="../R/a04fdc17aa0e8e7d.html" target="n" data-glyph="102,1" class="i property">ProcessingAsync</a> { <b>get</b>; <b>private set</b>; }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Event use for a specific shape instance.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="i">JsonIgnore</span>]
        <b>public</b> <a href="@1@System.Runtime/A.html#3acf01620172c7f0" class="t t">IEnumerable</a>&lt;<a href="@1@System.Runtime/A.html#486d58da4553e12d" class="t t">Action</a>&lt;<a href="../Implementation/ShapeDisplayContext.cs.html#0fe1137e8e1878e1" class="t t">ShapeDisplayContext</a>&gt;&gt; <a id="a9e53b0509653d15" href="../R/a9e53b0509653d15.html" target="n" data-glyph="102,1" class="i property">Displayed</a> { <b>get</b>; <b>private set</b>; }
 
        [<span class="i">JsonIgnore</span>]
        <b>public</b> <a href="@1@System.Runtime/A.html#b19f71a84062554b" class="t t">IList</a>&lt;<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>&gt; <a id="ead014c67de0137b" href="../R/ead014c67de0137b.html" target="n" data-glyph="102,1" class="i property">BindingSources</a> { <b>get</b>; <b>set</b>; }
 
        <b>public void</b> <a id="3e503c8daaf2ff97" href="../R/3e503c8daaf2ff97.html" target="n" data-glyph="72,1" class="i method">OnDisplaying</a>(<a href="@1@System.Runtime/A.html#486d58da4553e12d" class="t t">Action</a>&lt;<a href="../Implementation/ShapeDisplayContext.cs.html#0fe1137e8e1878e1" class="t t">ShapeDisplayContext</a>&gt; <span id="r0 rd" class="r0 r">context</span>)
        {
            <a href="#70d3c6d095c172f0" class="i property">Displaying</a> = <a href="#70d3c6d095c172f0" class="i property">Displaying</a>.<span class="i method">Concat</span>(<b>new</b>[] { <span class="r0 r">context</span> });
        }
 
        <b>public void</b> <a id="1902e4380d4941e9" href="../R/1902e4380d4941e9.html" target="n" data-glyph="72,1" class="i method">OnProcessing</a>(<a href="@1@System.Runtime/A.html#7a86aba051da82dd" class="t t">Func</a>&lt;<a href="../IShape.cs.html#1b6ae4719962ce25" class="t t">IShape</a>, <a href="@1@System.Runtime/A.html#045a746eb48cbaa9" class="t t">Task</a>&gt; <span id="r1 rd" class="r1 r">context</span>)
        {
            <a href="#a04fdc17aa0e8e7d" class="i property">ProcessingAsync</a> = <a href="#a04fdc17aa0e8e7d" class="i property">ProcessingAsync</a>.<span class="i method">Concat</span>(<b>new</b>[] { <span class="r1 r">context</span> });
        }
 
        <b>public void</b> <a id="3a1e6b0859fb87b2" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">OnDisplayed</a>(<a href="@1@System.Runtime/A.html#486d58da4553e12d" class="t t">Action</a>&lt;<a href="../Implementation/ShapeDisplayContext.cs.html#0fe1137e8e1878e1" class="t t">ShapeDisplayContext</a>&gt; <span id="r2 rd" class="r2 r">context</span>)
        {
            <a href="#a9e53b0509653d15" class="i property">Displayed</a> = <a href="#a9e53b0509653d15" class="i property">Displayed</a>.<span class="i method">Concat</span>(<b>new</b>[] { <span class="r2 r">context</span> });
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Marks this shape to be cached</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public</b> <a href="/OrchardCore.Infrastructure.Abstractions/A.html#ac2fe3ab5208377e" class="t t">CacheContext</a> <a id="a38b899842470d07" href="../R/a38b899842470d07.html" target="n" data-glyph="72,1" class="i method">Cache</a>(<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r3 rd" class="r3 r">cacheId</span>)
        {
            <b>if</b> (<a href="#7b7b82713a5addce" class="i field">_cacheContext</a> == <b>null</b> || <a href="#7b7b82713a5addce" class="i field">_cacheContext</a>.<a href="/OrchardCore.Infrastructure.Abstractions/A.html#e3115f9ec67f8627" class="i property">CacheId</a> != <span class="r3 r">cacheId</span>)
            {
                <a href="#7b7b82713a5addce" class="i field">_cacheContext</a> = <b>new</b> <a href="/OrchardCore.Infrastructure.Abstractions/A.html#e057ffb75a1a081a" class="t constructor">CacheContext</a>(<span class="r3 r">cacheId</span>);
            }
 
            <b>return</b> <a href="#7b7b82713a5addce" class="i field">_cacheContext</a>;
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Returns the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="/OrchardCore.Infrastructure.Abstractions/A.html#ac2fe3ab5208377e" class="t t">CacheContext</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> instance if the shape is cached.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public</b> <a href="/OrchardCore.Infrastructure.Abstractions/A.html#ac2fe3ab5208377e" class="t t">CacheContext</a> <a id="b068eaf5230236a5" href="../R/b068eaf5230236a5.html" target="n" data-glyph="72,1" class="i method">Cache</a>()
        {
            <b>return</b> <a href="#7b7b82713a5addce" class="i field">_cacheContext</a>;
        }
    }
}
</pre></td></tr></table></div></body></html>
