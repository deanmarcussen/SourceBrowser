<!DOCTYPE html>
<html><head><title>DeploymentPlanResult.cs</title><link rel="stylesheet" href="../styles.css"><script src="../scripts.js"></script></head>
<body class="cB" onload="i(43);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#OrchardCore.Deployment.Abstractions/DeploymentPlanResult.cs" target="_top">DeploymentPlanResult.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#OrchardCore.Deployment.Abstractions" target="_top">src\OrchardCore\OrchardCore.Deployment.Abstractions\OrchardCore.Deployment.Abstractions.csproj</a> (OrchardCore.Deployment.Abstractions)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<b>using</b> <span class="i n">System</span>.<span class="i n">Collections</span>.<span class="i n">Generic</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Text</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Threading</span>.<span class="i n">Tasks</span>;
<b>using</b> <span class="i">Newtonsoft</span>.<span class="i">Json</span>;
<b>using</b> <span class="i">Newtonsoft</span>.<span class="i">Json</span>.<span class="i">Linq</span>;
<b>using</b> <span class="i n">OrchardCore</span>.<span class="i n">Recipes</span>.<span class="i n">Models</span>;
 
<b>namespace</b> <span class="i n">OrchardCore</span>.<span class="i n">Deployment</span>
{
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c"> The state of a deployment plan built by sources.</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
    <b>public class</b> <a id="89e81a9c2823ef23" href="R/89e81a9c2823ef23.html" target="n" data-glyph="0,0" class="t t">DeploymentPlanResult</a>
    {
        <b>public</b> <a id="c18a317fcf331b35" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="t constructor">DeploymentPlanResult</a>(<a href="IFileBuilder.cs.html#59d6910f1439d5dd" class="t t">IFileBuilder</a> <span id="r0 rd" class="r0 r">fileBuilder</span>, <a href="/OrchardCore.Recipes.Abstractions/A.html#bd38e084344164e6" class="t t">RecipeDescriptor</a> <span id="r1 rd" class="r1 r">recipeDescriptor</span>)
        {
            <a href="#65ed05ca85dfff46" class="i property">FileBuilder</a> = <span class="r0 r">fileBuilder</span>;
 
            <a href="#3f1be898ee2e536f" class="i property">Recipe</a> = <b>new</b> <span class="i">JObject</span>();
            <a href="#3f1be898ee2e536f" class="i property">Recipe</a>[<span class="s">&quot;name&quot;</span>] = <span class="r1 r">recipeDescriptor</span>.<a href="/OrchardCore.Recipes.Abstractions/A.html#7158f1f797da090d" class="i property">Name</a> ?? <span class="s">&quot;&quot;</span>;
            <a href="#3f1be898ee2e536f" class="i property">Recipe</a>[<span class="s">&quot;displayName&quot;</span>] = <span class="r1 r">recipeDescriptor</span>.<a href="/OrchardCore.Recipes.Abstractions/A.html#be38f28bd54bb606" class="i property">DisplayName</a> ?? <span class="s">&quot;&quot;</span>;
            <a href="#3f1be898ee2e536f" class="i property">Recipe</a>[<span class="s">&quot;description&quot;</span>] = <span class="r1 r">recipeDescriptor</span>.<a href="/OrchardCore.Recipes.Abstractions/A.html#2bb1c138e9bc6c0a" class="i property">Description</a> ?? <span class="s">&quot;&quot;</span>;
            <a href="#3f1be898ee2e536f" class="i property">Recipe</a>[<span class="s">&quot;author&quot;</span>] = <span class="r1 r">recipeDescriptor</span>.<a href="/OrchardCore.Recipes.Abstractions/A.html#4ae4622ca1e28a60" class="i property">Author</a> ?? <span class="s">&quot;&quot;</span>;
            <a href="#3f1be898ee2e536f" class="i property">Recipe</a>[<span class="s">&quot;website&quot;</span>] = <span class="r1 r">recipeDescriptor</span>.<a href="/OrchardCore.Recipes.Abstractions/A.html#4c41cfdf061c88cd" class="i property">WebSite</a> ?? <span class="s">&quot;&quot;</span>;
            <a href="#3f1be898ee2e536f" class="i property">Recipe</a>[<span class="s">&quot;version&quot;</span>] = <span class="r1 r">recipeDescriptor</span>.<a href="/OrchardCore.Recipes.Abstractions/A.html#3a6fae4cc1c90e54" class="i property">Version</a> ?? <span class="s">&quot;&quot;</span>;
            <a href="#3f1be898ee2e536f" class="i property">Recipe</a>[<span class="s">&quot;issetuprecipe&quot;</span>] = <span class="r1 r">recipeDescriptor</span>.<a href="/OrchardCore.Recipes.Abstractions/A.html#6c8f9889e4b2e522" class="i property">IsSetupRecipe</a>;
            <a href="#3f1be898ee2e536f" class="i property">Recipe</a>[<span class="s">&quot;categories&quot;</span>] = <b>new</b> <span class="i">JArray</span>(<span class="r1 r">recipeDescriptor</span>.<a href="/OrchardCore.Recipes.Abstractions/A.html#b9527a8328a652e7" class="i property">Categories</a> ?? <b>new</b> <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>[] { });
            <a href="#3f1be898ee2e536f" class="i property">Recipe</a>[<span class="s">&quot;tags&quot;</span>] = <b>new</b> <span class="i">JArray</span>(<span class="r1 r">recipeDescriptor</span>.<a href="/OrchardCore.Recipes.Abstractions/A.html#ed5c9ee84143f4f2" class="i property">Tags</a> ?? <b>new</b> <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>[] { });
        }
 
        <b>public</b> <span class="i">JObject</span> <a id="3f1be898ee2e536f" href="R/3f1be898ee2e536f.html" target="n" data-glyph="102,1" class="i property">Recipe</a> { <b>get</b>; }
        <b>public</b> <a href="@1@System.Runtime/A.html#b19f71a84062554b" class="t t">IList</a>&lt;<span class="i">JObject</span>&gt; <a id="0084a5e6cbc16111" href="R/0084a5e6cbc16111.html" target="n" data-glyph="102,1" class="i property">Steps</a> { <b>get</b>; } = <b>new</b> <span class="t constructor">List</span>&lt;<span class="i">JObject</span>&gt;();
        <b>public</b> <a href="IFileBuilder.cs.html#59d6910f1439d5dd" class="t t">IFileBuilder</a> <a id="65ed05ca85dfff46" href="R/65ed05ca85dfff46.html" target="n" data-glyph="102,1" class="i property">FileBuilder</a> { <b>get</b>; }
        <b>public async</b> <a href="@1@System.Runtime/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="a9910ba780995f2d" href="R/a9910ba780995f2d.html" target="n" data-glyph="72,1" class="i method">FinalizeAsync</a>()
        {
            <a href="#3f1be898ee2e536f" class="i property">Recipe</a>[<span class="s">&quot;steps&quot;</span>] = <b>new</b> <span class="i">JArray</span>(<a href="#0084a5e6cbc16111" class="i property">Steps</a>);
 
            <span class="c">// Add the recipe steps as its own file content</span>
            <b>await</b> <a href="#65ed05ca85dfff46" class="i property">FileBuilder</a>.<span class="i">SetFileAsync</span>(<span class="s">&quot;Recipe.json&quot;</span>, <a href="@1@System.Runtime/A.html#3b6090c501893c25" class="t t">Encoding</a>.<a href="@1@System.Runtime/A.html#a10eb90a3d884500" class="i property">UTF8</a>.<span class="i">GetBytes</span>(<a href="#3f1be898ee2e536f" class="i property">Recipe</a>.<span class="i">ToString</span>(<span class="i">Formatting</span>.<span class="i">Indented</span>)));
        }
    }
}
</pre></td></tr></table></div></body></html>
