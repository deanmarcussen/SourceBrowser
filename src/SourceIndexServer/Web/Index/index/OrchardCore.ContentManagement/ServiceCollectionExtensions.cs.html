<!DOCTYPE html>
<html><head><title>ServiceCollectionExtensions.cs</title><link rel="stylesheet" href="../styles.css"><script src="../scripts.js"></script></head>
<body class="cB" onload="i(46);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#OrchardCore.ContentManagement/ServiceCollectionExtensions.cs" target="_top">ServiceCollectionExtensions.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#OrchardCore.ContentManagement" target="_top">src\OrchardCore\OrchardCore.ContentManagement\OrchardCore.ContentManagement.csproj</a> (OrchardCore.ContentManagement)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Extensions</span>.<span class="i n">DependencyInjection</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Extensions</span>.<span class="i n">DependencyInjection</span>.<span class="i n">Extensions</span>;
<b>using</b> <span class="i n">OrchardCore</span>.<span class="i n">ContentManagement</span>.<span class="i n">Cache</span>;
<b>using</b> <span class="i n">OrchardCore</span>.<span class="i n">ContentManagement</span>.<span class="i n">Handlers</span>;
<b>using</b> <span class="i n">OrchardCore</span>.<span class="i n">ContentManagement</span>.<span class="i n">Metadata</span>;
<b>using</b> <span class="i n">OrchardCore</span>.<span class="i n">ContentManagement</span>.<span class="i n">Records</span>;
<b>using</b> <span class="i n">OrchardCore</span>.<span class="i n">Data</span>.<span class="i n">Migration</span>;
<b>using</b> <span class="i n">OrchardCore</span>.<span class="i n">Environment</span>.<span class="i n">Cache</span>;
<b>using</b> <span class="i">YesSql</span>.<span class="i">Indexes</span>;
 
<b>namespace</b> <span class="i n">OrchardCore</span>.<span class="i n">ContentManagement</span>
{
    <b>public static class</b> <a id="9bc4d7ed3486750b" href="R/../../0000000000.html" target="n" data-glyph="0,0" class="t t">ServiceCollectionExtensions</a>
    {
        <b>public static</b> <span class="t t">IServiceCollection</span> <a id="41ddb6d52560ceba" href="R/41ddb6d52560ceba.html" target="n" data-glyph="220,1" class="i method">AddContentManagement</a>(<b>this</b> <span class="t t">IServiceCollection</span> <span id="r0 rd" class="r0 r">services</span>)
        {
            <span class="r0 r">services</span>.<span class="i method">AddScoped</span>&lt;<a href="/OrchardCore.Infrastructure.Abstractions/A.html#9e90c16011a8ac2a" class="t t">ICacheContextProvider</a>, <a href="Cache/ContentDefinitionCacheContextProvider.cs.html#0df5e9443d3bffcb" class="t t">ContentDefinitionCacheContextProvider</a>&gt;();
            <span class="r0 r">services</span>.<span class="i method">TryAddScoped</span>&lt;<a href="/OrchardCore.ContentManagement.Abstractions/A.html#d83ce13dd2923822" class="t t">IContentDefinitionManager</a>, <a href="ContentDefinitionManager.cs.html#b22aa41707bdcc45" class="t t">ContentDefinitionManager</a>&gt;();
            <span class="r0 r">services</span>.<span class="i method">TryAddScoped</span>&lt;<a href="/OrchardCore.ContentManagement.Abstractions/A.html#4b08d455de664b2d" class="t t">IContentDefinitionStore</a>, <a href="DatabaseContentDefinitionStore.cs.html#6cf67e45729eab26" class="t t">DatabaseContentDefinitionStore</a>&gt;();
            <span class="r0 r">services</span>.<span class="i method">TryAddScoped</span>&lt;<a href="/OrchardCore.ContentManagement.Abstractions/A.html#6ca840219d8dc4cd" class="t t">IContentManager</a>, <a href="DefaultContentManager.cs.html#ec17f690e696ae31" class="t t">DefaultContentManager</a>&gt;();
            <span class="r0 r">services</span>.<span class="i method">TryAddScoped</span>&lt;<a href="/OrchardCore.ContentManagement.Abstractions/A.html#c1b9808236f14f5c" class="t t">IContentManagerSession</a>, <a href="DefaultContentManagerSession.cs.html#973a690736ccd169" class="t t">DefaultContentManagerSession</a>&gt;();
            <span class="r0 r">services</span>.<span class="i">AddSingleton</span>&lt;<span class="i">IIndexProvider</span>, <a href="Records/ContentItemIndex.cs.html#9723e5ee434be6d3" class="t t">ContentItemIndexProvider</a>&gt;();
            <span class="r0 r">services</span>.<span class="i">AddScoped</span>&lt;<span class="i">IDataMigration</span>, <a href="Records/Migrations.cs.html#7baa35c4c631c20a" class="t t">Migrations</a>&gt;();
            <span class="r0 r">services</span>.<span class="i method">AddScoped</span>&lt;<a href="/OrchardCore.ContentManagement.Abstractions/A.html#887416973166e420" class="t t">IContentHandler</a>, <a href="Handlers/ContentsHandler.cs.html#f474656250cf52d5" class="t t">UpdateContentsHandler</a>&gt;();
            <span class="r0 r">services</span>.<span class="i method">AddScoped</span>&lt;<a href="/OrchardCore.ContentManagement.Abstractions/A.html#887416973166e420" class="t t">IContentHandler</a>, <a href="Handlers/ContentPartHandlerCoordinator.cs.html#1a6ff8737909bf16" class="t t">ContentPartHandlerCoordinator</a>&gt;();
            <span class="r0 r">services</span>.<span class="i method">AddSingleton</span>&lt;<a href="/OrchardCore.ContentManagement.Abstractions/A.html#c3f90773cb172204" class="t t">ITypeActivatorFactory</a>&lt;<a href="/OrchardCore.ContentManagement.Abstractions/A.html#b1bb17f377e21f22" class="t t">ContentPart</a>&gt;, <a href="ContentPartFactory.cs.html#06cfbf006d7a618d" class="t t">ContentPartFactory</a>&gt;();
            <span class="r0 r">services</span>.<span class="i method">AddSingleton</span>&lt;<a href="/OrchardCore.ContentManagement.Abstractions/A.html#c3f90773cb172204" class="t t">ITypeActivatorFactory</a>&lt;<a href="/OrchardCore.ContentManagement.Abstractions/A.html#87d34c976492d541" class="t t">ContentField</a>&gt;, <a href="ContentFieldFactory.cs.html#80ee0b4d28f330d5" class="t t">ContentFieldFactory</a>&gt;();
 
            <span class="r0 r">services</span>.<span class="i method">AddSingleton</span>&lt;<a href="/OrchardCore.ContentManagement.Abstractions/A.html#fd54bb0f4e88e2cc" class="t t">IContentItemIdGenerator</a>, <a href="DefaultContentItemIdGenerator.cs.html#cfce4b312513db9f" class="t t">DefaultContentItemIdGenerator</a>&gt;();
            <span class="r0 r">services</span>.<span class="i method">AddScoped</span>&lt;<a href="/OrchardCore.ContentManagement.Abstractions/A.html#f2917d09c3acc6de" class="t t">IContentHandleManager</a>, <a href="ContentHandleManager.cs.html#c931b13c693c88a0" class="t t">ContentHandleManager</a>&gt;();
 
            <span class="r0 r">services</span>.<span class="i method">AddOptions</span>&lt;<a href="/OrchardCore.ContentManagement.Abstractions/A.html#0c614ac04817acbd" class="t t">ContentOptions</a>&gt;();
            <span class="r0 r">services</span>.<span class="i method">AddScoped</span>&lt;<a href="/OrchardCore.ContentManagement.Abstractions/A.html#2d8042d61bdde860" class="t t">IContentPartHandlerResolver</a>, <a href="Handlers/ContentPartHandlerResolver.cs.html#db331ddbebb5eac4" class="t t">ContentPartHandlerResolver</a>&gt;();
 
            <b>return</b> <span class="r0 r">services</span>;
        }
 
        <b>public static</b> <span class="t t">IServiceCollection</span> <a id="bbd30ae8d804f5b0" href="R/bbd30ae8d804f5b0.html" target="n" data-glyph="220,1" class="i method">AddFileContentDefinitionStore</a>(<b>this</b> <span class="t t">IServiceCollection</span> <span id="r1 rd" class="r1 r">services</span>)
        {
            <span class="r1 r">services</span>.<span class="i method">RemoveAll</span>&lt;<a href="/OrchardCore.ContentManagement.Abstractions/A.html#4b08d455de664b2d" class="t t">IContentDefinitionStore</a>&gt;();
            <span class="r1 r">services</span>.<span class="i method">AddScoped</span>&lt;<a href="/OrchardCore.ContentManagement.Abstractions/A.html#4b08d455de664b2d" class="t t">IContentDefinitionStore</a>, <a href="FileContentDefinitionStore.cs.html#e0e0ccb377a34a3d" class="t t">FileContentDefinitionStore</a>&gt;();
            <b>return</b> <span class="r1 r">services</span>;
        }
    }
}
</pre></td></tr></table></div></body></html>
