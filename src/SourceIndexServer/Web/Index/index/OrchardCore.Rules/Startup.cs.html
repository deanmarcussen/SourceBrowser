<!DOCTYPE html>
<html><head><title>Startup.cs</title><link rel="stylesheet" href="../styles.css"><script src="../scripts.js"></script></head>
<body class="cB" onload="i(88);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#OrchardCore.Rules/Startup.cs" target="_top">Startup.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#OrchardCore.Rules" target="_top">src\OrchardCore.Modules\OrchardCore.Rules\OrchardCore.Rules.csproj</a> (OrchardCore.Rules)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Extensions</span>.<span class="i n">DependencyInjection</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Extensions</span>.<span class="i n">Options</span>;
<b>using</b> <span class="i n">OrchardCore</span>.<span class="i n">ContentManagement</span>.<span class="i n">Display</span>.<span class="i n">ContentDisplay</span>;
<b>using</b> <span class="i n">OrchardCore</span>.<span class="i n">DisplayManagement</span>;
<b>using</b> <span class="i n">OrchardCore</span>.<span class="i n">DisplayManagement</span>.<span class="i n">Handlers</span>;
<b>using</b> <span class="i n">OrchardCore</span>.<span class="i">Modules</span>;
<b>using</b> <span class="i n">OrchardCore</span>.<span class="i n">Rules</span>.<span class="i n">Drivers</span>;
<b>using</b> <span class="i n">OrchardCore</span>.<span class="i n">Rules</span>.<span class="i n">Models</span>;
<b>using</b> <span class="i n">OrchardCore</span>.<span class="i n">Rules</span>.<span class="i n">Services</span>;
 
<b>namespace</b> <span class="i n">OrchardCore</span>.<span class="i n">Rules</span>
{
    <b>public class</b> <a id="140f2f4c09915a17" href="R/../../0000000000.html" target="n" data-glyph="0,0" class="t t"><span id="ec9f6b84b7f729b3">Startup</span></a> : <span class="i">StartupBase</span>
    {
        <b>public override void</b> <a id="b91d49cfe90545e3" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">ConfigureServices</a>(<span class="t t">IServiceCollection</span> <span id="r0 rd" class="r0 r">services</span>)
        {
            <span class="r0 r">services</span>.<span class="i method">AddOptions</span>&lt;<a href="/OrchardCore.Rules.Abstractions/A.html#c457622e07ea2ce5" class="t t">ConditionOptions</a>&gt;();
 
            <span class="c">// Rule services.</span>
            <span class="r0 r">services</span>.<span class="i method">AddScoped</span>&lt;<a href="/OrchardCore.DisplayManagement/A.html#3210eac404b61aa1" class="t t">IDisplayManager</a>&lt;<a href="/OrchardCore.Rules.Abstractions/A.html#b6dbd3e74203e032" class="t t">Condition</a>&gt;, <a href="/OrchardCore.DisplayManagement/A.html#141caee1ffe2e07b" class="t t">DisplayManager</a>&lt;<a href="/OrchardCore.Rules.Abstractions/A.html#b6dbd3e74203e032" class="t t">Condition</a>&gt;&gt;()
                .<span class="i method">AddScoped</span>&lt;<a href="/OrchardCore.DisplayManagement/A.html#3210eac404b61aa1" class="t t">IDisplayManager</a>&lt;<a href="/OrchardCore.Rules.Abstractions/A.html#96636e2f2bede914" class="t t">Rule</a>&gt;, <a href="/OrchardCore.DisplayManagement/A.html#141caee1ffe2e07b" class="t t">DisplayManager</a>&lt;<a href="/OrchardCore.Rules.Abstractions/A.html#96636e2f2bede914" class="t t">Rule</a>&gt;&gt;()
                .<span class="i method">AddScoped</span>&lt;<a href="/OrchardCore.DisplayManagement/A.html#d771cc6d0ec6c783" class="t t">IDisplayDriver</a>&lt;<a href="/OrchardCore.Rules.Abstractions/A.html#96636e2f2bede914" class="t t">Rule</a>&gt;, <a href="Drivers/RuleDisplayDriver.cs.html#5dd5924cb7536a89" class="t t">RuleDisplayDriver</a>&gt;()
                .<span class="i method">AddSingleton</span>&lt;<a href="/OrchardCore.Rules.Abstractions/A.html#ad0e2a0eb60359b6" class="t t">IConditionIdGenerator</a>, <a href="Services/ConditionIdGenerator.cs.html#67cd79490e7a1415" class="t t">ConditionIdGenerator</a>&gt;()
                .<span class="i method">AddTransient</span>&lt;<span class="t t">IConfigureOptions</span>&lt;<a href="/OrchardCore.Rules.Abstractions/A.html#6e952b282b03bd16" class="t t">ConditionOperatorOptions</a>&gt;, <a href="Services/ConditionOperatorConfigureOptions.cs.html#ed288a7deedbdf46" class="t t">ConditionOperatorConfigureOptions</a>&gt;()
                .<span class="i method">AddScoped</span>&lt;<a href="/OrchardCore.Rules.Abstractions/A.html#8ae446ce3099ea22" class="t t">IConditionResolver</a>, <a href="Services/ConditionResolver.cs.html#ff4af5f0e0abace6" class="t t">ConditionResolver</a>&gt;()
                .<span class="i method">AddScoped</span>&lt;<a href="/OrchardCore.Rules.Abstractions/A.html#b66788d3259dfa65" class="t t">IConditionOperatorResolver</a>, <a href="Services/ConditionOperatorResolver.cs.html#cd411d7b0269db06" class="t t">ConditionOperatorResolver</a>&gt;()
                .<span class="i method">AddScoped</span>&lt;<a href="/OrchardCore.Rules.Abstractions/A.html#d803900b93f943ee" class="t t">IRuleService</a>, <a href="Services/RuleService.cs.html#0a2ade395159e84c" class="t t">RuleService</a>&gt;()
                .<span class="i method">AddScoped</span>&lt;<a href="/OrchardCore.Rules.Abstractions/A.html#74c7df5381451890" class="t t">IRuleMigrator</a>, <a href="Services/RuleMigrator.cs.html#ba5108b84b9d9b61" class="t t">RuleMigrator</a>&gt;();
 
            <span class="c">// All condition.</span>
            <span class="r0 r">services</span>
                .<span class="i method">AddScoped</span>&lt;<a href="/OrchardCore.DisplayManagement/A.html#d771cc6d0ec6c783" class="t t">IDisplayDriver</a>&lt;<a href="/OrchardCore.Rules.Abstractions/A.html#b6dbd3e74203e032" class="t t">Condition</a>&gt;, <a href="Drivers/AllConditionDisplayDriver.cs.html#f81f1b227f326a90" class="t t">AllConditionDisplayDriver</a>&gt;()
                .<a href="/OrchardCore.Rules.Abstractions/A.html#c81f5e27ada43750" class="i method">AddCondition</a>&lt;<a href="Models/AllConditionGroup.cs.html#d3214943cefbc071" class="t t">AllConditionGroup</a>, <a href="Services/AllConditionEvalutor.cs.html#161f57ae83e0181f" class="t t">AllConditionEvaluator</a>, <a href="/OrchardCore.Rules.Abstractions/A.html#7c96427431a42dee" class="t t">ConditionFactory</a>&lt;<a href="Models/AllConditionGroup.cs.html#d3214943cefbc071" class="t t">AllConditionGroup</a>&gt;&gt;();
 
            <span class="c">// Any condition.</span>
            <span class="r0 r">services</span>
                .<span class="i method">AddScoped</span>&lt;<a href="/OrchardCore.DisplayManagement/A.html#d771cc6d0ec6c783" class="t t">IDisplayDriver</a>&lt;<a href="/OrchardCore.Rules.Abstractions/A.html#b6dbd3e74203e032" class="t t">Condition</a>&gt;, <a href="Drivers/AnyConditionDisplayDriver.cs.html#dde06fc4b98d93cc" class="t t">AnyConditionDisplayDriver</a>&gt;()
                .<a href="/OrchardCore.Rules.Abstractions/A.html#c81f5e27ada43750" class="i method">AddCondition</a>&lt;<a href="Models/AnyConditionGroup.cs.html#9d99b8923da12d29" class="t t">AnyConditionGroup</a>, <a href="Services/AnyConditionEvaluator.cs.html#eeb31782a875c887" class="t t">AnyConditionEvaluator</a>, <a href="/OrchardCore.Rules.Abstractions/A.html#7c96427431a42dee" class="t t">ConditionFactory</a>&lt;<a href="Models/AnyConditionGroup.cs.html#9d99b8923da12d29" class="t t">AnyConditionGroup</a>&gt;&gt;();
 
            <span class="c">// Boolean condition.</span>
            <span class="r0 r">services</span>
                .<span class="i method">AddScoped</span>&lt;<a href="/OrchardCore.DisplayManagement/A.html#d771cc6d0ec6c783" class="t t">IDisplayDriver</a>&lt;<a href="/OrchardCore.Rules.Abstractions/A.html#b6dbd3e74203e032" class="t t">Condition</a>&gt;, <a href="Drivers/BooleanConditionDisplayDriver.cs.html#0cb17016afc8830e" class="t t">BooleanConditionDisplayDriver</a>&gt;()
                .<a href="/OrchardCore.Rules.Abstractions/A.html#c81f5e27ada43750" class="i method">AddCondition</a>&lt;<a href="Models/BooleanCondition.cs.html#4caabacc315ad723" class="t t">BooleanCondition</a>, <a href="Services/BooleanConditionEvaluator.cs.html#30f3432a6c3b5343" class="t t">BooleanConditionEvaluator</a>, <a href="/OrchardCore.Rules.Abstractions/A.html#7c96427431a42dee" class="t t">ConditionFactory</a>&lt;<a href="Models/BooleanCondition.cs.html#4caabacc315ad723" class="t t">BooleanCondition</a>&gt;&gt;();
 
            <span class="c">// Homepage condition.</span>
            <span class="r0 r">services</span>
                .<span class="i method">AddScoped</span>&lt;<a href="/OrchardCore.DisplayManagement/A.html#d771cc6d0ec6c783" class="t t">IDisplayDriver</a>&lt;<a href="/OrchardCore.Rules.Abstractions/A.html#b6dbd3e74203e032" class="t t">Condition</a>&gt;, <a href="Drivers/HomepageConditionDisplayDriver.cs.html#c3400c0bc91ca7aa" class="t t">HomepageConditionDisplayDriver</a>&gt;()
                .<a href="/OrchardCore.Rules.Abstractions/A.html#c81f5e27ada43750" class="i method">AddCondition</a>&lt;<a href="Models/HomepageCondition.cs.html#86b0f97b1be8c9cf" class="t t">HomepageCondition</a>, <a href="Services/HomepageConditionEvaluator.cs.html#08d494e8ab3ef0d1" class="t t">HomepageConditionEvaluator</a>, <a href="/OrchardCore.Rules.Abstractions/A.html#7c96427431a42dee" class="t t">ConditionFactory</a>&lt;<a href="Models/HomepageCondition.cs.html#86b0f97b1be8c9cf" class="t t">HomepageCondition</a>&gt;&gt;();
 
            <span class="c">// Url condition.</span>
            <span class="r0 r">services</span>
                .<span class="i method">AddScoped</span>&lt;<a href="/OrchardCore.DisplayManagement/A.html#d771cc6d0ec6c783" class="t t">IDisplayDriver</a>&lt;<a href="/OrchardCore.Rules.Abstractions/A.html#b6dbd3e74203e032" class="t t">Condition</a>&gt;, <a href="Drivers/UrlConditionDisplayDriver.cs.html#2ee0aa0269256013" class="t t">UrlConditionDisplayDriver</a>&gt;()
                .<a href="/OrchardCore.Rules.Abstractions/A.html#c81f5e27ada43750" class="i method">AddCondition</a>&lt;<a href="Models/UrlCondition.cs.html#9b6603d8b29f8675" class="t t">UrlCondition</a>, <a href="Services/UrlConditionEvaluator.cs.html#dd9da543de2c5797" class="t t">UrlConditionEvaluator</a>, <a href="/OrchardCore.Rules.Abstractions/A.html#7c96427431a42dee" class="t t">ConditionFactory</a>&lt;<a href="Models/UrlCondition.cs.html#9b6603d8b29f8675" class="t t">UrlCondition</a>&gt;&gt;();
 
            <span class="c">// Culture condition.</span>
            <span class="r0 r">services</span>
                .<span class="i method">AddScoped</span>&lt;<a href="/OrchardCore.DisplayManagement/A.html#d771cc6d0ec6c783" class="t t">IDisplayDriver</a>&lt;<a href="/OrchardCore.Rules.Abstractions/A.html#b6dbd3e74203e032" class="t t">Condition</a>&gt;, <a href="Drivers/CultureConditionDisplayDriver.cs.html#7bfcb58ee10d8808" class="t t">CultureConditionDisplayDriver</a>&gt;()
                .<a href="/OrchardCore.Rules.Abstractions/A.html#c81f5e27ada43750" class="i method">AddCondition</a>&lt;<a href="Models/CultureCondition.cs.html#e09415e96205e6c2" class="t t">CultureCondition</a>, <a href="Services/CultureConditionEvaluator.cs.html#ec3e772ebbc78f14" class="t t">CultureConditionEvaluator</a>, <a href="/OrchardCore.Rules.Abstractions/A.html#7c96427431a42dee" class="t t">ConditionFactory</a>&lt;<a href="Models/CultureCondition.cs.html#e09415e96205e6c2" class="t t">CultureCondition</a>&gt;&gt;();
 
            <span class="c">// Role condition.</span>
            <span class="r0 r">services</span>
                .<span class="i method">AddScoped</span>&lt;<a href="/OrchardCore.DisplayManagement/A.html#d771cc6d0ec6c783" class="t t">IDisplayDriver</a>&lt;<a href="/OrchardCore.Rules.Abstractions/A.html#b6dbd3e74203e032" class="t t">Condition</a>&gt;, <a href="Drivers/RoleConditionDisplayDriver.cs.html#c948253d0de27211" class="t t">RoleConditionDisplayDriver</a>&gt;()
                .<a href="/OrchardCore.Rules.Abstractions/A.html#c81f5e27ada43750" class="i method">AddCondition</a>&lt;<a href="Models/RoleCondition.cs.html#2796483a833d4c91" class="t t">RoleCondition</a>, <a href="Services/RoleConditionEvaluator.cs.html#8f2d39727e33ee3c" class="t t">RoleConditionEvaluator</a>, <a href="/OrchardCore.Rules.Abstractions/A.html#7c96427431a42dee" class="t t">ConditionFactory</a>&lt;<a href="Models/RoleCondition.cs.html#2796483a833d4c91" class="t t">RoleCondition</a>&gt;&gt;();
 
            <span class="c">// Javascript condition.</span>
            <span class="r0 r">services</span>
                .<span class="i method">AddScoped</span>&lt;<a href="/OrchardCore.DisplayManagement/A.html#d771cc6d0ec6c783" class="t t">IDisplayDriver</a>&lt;<a href="/OrchardCore.Rules.Abstractions/A.html#b6dbd3e74203e032" class="t t">Condition</a>&gt;, <a href="Drivers/JavascriptConditionDisplayDriver.cs.html#5dffd7a8c65dac22" class="t t">JavascriptConditionDisplayDriver</a>&gt;()
                .<a href="/OrchardCore.Rules.Abstractions/A.html#c81f5e27ada43750" class="i method">AddCondition</a>&lt;<a href="Models/JavascriptCondition.cs.html#57637753a23e156a" class="t t">JavascriptCondition</a>, <a href="Services/JavascriptConditionEvaluator.cs.html#4dbc33b9d9ceb8dc" class="t t">JavascriptConditionEvaluator</a>, <a href="/OrchardCore.Rules.Abstractions/A.html#7c96427431a42dee" class="t t">ConditionFactory</a>&lt;<a href="Models/JavascriptCondition.cs.html#57637753a23e156a" class="t t">JavascriptCondition</a>&gt;&gt;();
 
            <span class="c">// Is authenticated condition.</span>
            <span class="r0 r">services</span>
                .<span class="i method">AddScoped</span>&lt;<a href="/OrchardCore.DisplayManagement/A.html#d771cc6d0ec6c783" class="t t">IDisplayDriver</a>&lt;<a href="/OrchardCore.Rules.Abstractions/A.html#b6dbd3e74203e032" class="t t">Condition</a>&gt;, <a href="Drivers/IsAuthenticatedConditionDisplayDriver.cs.html#c1fb0a4b73102c87" class="t t">IsAuthenticatedConditionDisplayDriver</a>&gt;()
                .<a href="/OrchardCore.Rules.Abstractions/A.html#c81f5e27ada43750" class="i method">AddCondition</a>&lt;<a href="Models/IsAuthenticatedCondition.cs.html#af6a80d71db40c6f" class="t t">IsAuthenticatedCondition</a>, <a href="Services/IsAuthenticatedConditionEvaluator.cs.html#47c3c8a1b6fe9fb4" class="t t">IsAuthenticatedConditionEvaluator</a>, <a href="/OrchardCore.Rules.Abstractions/A.html#7c96427431a42dee" class="t t">ConditionFactory</a>&lt;<a href="Models/IsAuthenticatedCondition.cs.html#af6a80d71db40c6f" class="t t">IsAuthenticatedCondition</a>&gt;&gt;();
 
            <span class="c">// Is anonymous condition.</span>
            <span class="r0 r">services</span>
                .<span class="i method">AddScoped</span>&lt;<a href="/OrchardCore.DisplayManagement/A.html#d771cc6d0ec6c783" class="t t">IDisplayDriver</a>&lt;<a href="/OrchardCore.Rules.Abstractions/A.html#b6dbd3e74203e032" class="t t">Condition</a>&gt;, <a href="Drivers/IsAnonymousConditionDisplayDriver.cs.html#f3fb4d097a697cce" class="t t">IsAnonymousConditionDisplayDriver</a>&gt;()
                .<a href="/OrchardCore.Rules.Abstractions/A.html#c81f5e27ada43750" class="i method">AddCondition</a>&lt;<a href="Models/IsAnonymousCondition.cs.html#3baffdfeca80150c" class="t t">IsAnonymousCondition</a>, <a href="Services/IsAnonymousConditionEvaluator.cs.html#83d1069dc9dc5b23" class="t t">IsAnonymousConditionEvaluator</a>, <a href="/OrchardCore.Rules.Abstractions/A.html#7c96427431a42dee" class="t t">ConditionFactory</a>&lt;<a href="Models/IsAnonymousCondition.cs.html#3baffdfeca80150c" class="t t">IsAnonymousCondition</a>&gt;&gt;();
 
            <span class="c">// Content type condition.</span>
            <span class="r0 r">services</span>
                .<span class="i method">AddScoped</span>&lt;<a href="/OrchardCore.DisplayManagement/A.html#d771cc6d0ec6c783" class="t t">IDisplayDriver</a>&lt;<a href="/OrchardCore.Rules.Abstractions/A.html#b6dbd3e74203e032" class="t t">Condition</a>&gt;, <a href="Drivers/ContentTypeConditionDisplayDriver.cs.html#af22a3a0c82c0f60" class="t t">ContentTypeConditionDisplayDriver</a>&gt;()
                .<a href="/OrchardCore.Rules.Abstractions/A.html#c81f5e27ada43750" class="i method">AddCondition</a>&lt;<a href="Models/ContentTypeCondition.cs.html#5768a1783751357b" class="t t">ContentTypeCondition</a>, <a href="Drivers/ContentTypeConditionEvaluatorDriver.cs.html#083c97254a4c862c" class="t t">ContentTypeConditionEvaluatorDriver</a>, <a href="/OrchardCore.Rules.Abstractions/A.html#7c96427431a42dee" class="t t">ConditionFactory</a>&lt;<a href="Models/ContentTypeCondition.cs.html#5768a1783751357b" class="t t">ContentTypeCondition</a>&gt;&gt;()
                .<span class="i method">AddScoped</span>&lt;<a href="/OrchardCore.ContentManagement.Display/A.html#230306fca9011b42" class="t t">IContentDisplayDriver</a>&gt;(<span id="r1 rd" class="r1 r">sp</span> =&gt; (<a href="/OrchardCore.ContentManagement.Display/A.html#230306fca9011b42" class="t t">IContentDisplayDriver</a>)<span class="r1 r">sp</span>.<span class="i method">GetRequiredService</span>&lt;<a href="Drivers/ContentTypeConditionEvaluatorDriver.cs.html#083c97254a4c862c" class="t t">ContentTypeConditionEvaluatorDriver</a>&gt;());
        }
    }
}
</pre></td></tr></table></div></body></html>
